(this.webpackJsonpmagic=this.webpackJsonpmagic||[]).push([[0],{202:function(e,a,t){},261:function(e,a,t){e.exports=t.p+"static/media/planechase-back.c7f50007.jpg"},263:function(e,a,t){e.exports=t.p+"static/media/archenemy-back.2c00b5d4.jpg"},271:function(e,a,t){e.exports=t(490)},276:function(e,a,t){},289:function(e,a,t){},312:function(e,a,t){},490:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),r=t(10),l=t.n(r),c=(t(276),t(29)),i=t(34),o=t(19),m=t(23),d=t(255),h=t(127),u=t(220),g=t(6),p=t.n(g),E=(t(289),t(257)),y=t.n(E);p.a.addPlugin(y.a);p.a.defaults({"setting-disclaimerDismissed":!1,"setting-displayText":!1,"setting-displayImages":!0,"setting-devTools":!1,"setting-displayGatherer":!1});const k=e=>p.a.get("setting-".concat(e)),f=(e,a)=>p.a.set("setting-".concat(e),a);var v=t(56);class b extends s.Component{constructor(...e){super(...e),this.componentDidMount=()=>{}}render(){return n.a.createElement("div",{className:"home"},n.a.createElement(c.a,{title:"Magic"},n.a.createElement("link",{rel:"manifest",href:"/manifest.json"})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(v.a,{as:i.b,exact:!0,to:"/planechase",block:!0,variant:"info",size:"lg"},n.a.createElement("i",{className:"ms ms-planeswalker ms-4x mx-2 d-block"}),n.a.createElement("span",{className:"d-block"},"Planechase")),n.a.createElement(v.a,{as:i.b,exact:!0,to:"/archenemy",block:!0,variant:"danger",size:"lg"},n.a.createElement("i",{className:"ss ss-arc ss-3x mx-2 d-block"}),n.a.createElement("span",{className:"d-block"},"Archenemy")),n.a.createElement(v.a,{as:i.b,exact:!0,to:"/syb",block:!0,variant:"success",size:"lg"},n.a.createElement("i",{className:"ss ss-s00 ss-3x mx-2 d-block"}),n.a.createElement("span",{className:"d-block"},"SYB")),n.a.createElement(v.a,{as:i.b,exact:!0,to:"/formats",block:!0,variant:"primary",size:"lg"},n.a.createElement("i",{className:"ss ss-evg ss-3x mx-2 d-block"}),n.a.createElement("span",{className:"d-block"},"Formats"))))}}var C=t(18),S=t.n(C),w=t(30),N=t(25),D=t(204),x=t(219),T=t(81),_=t(254);const F=e=>p.a.get("".concat(e,"-currentCard")),I=(e,a)=>p.a.set("".concat(e,"-currentCard"),a),M=(e,a)=>p.a.set("".concat(e,"-revealedCards"),a),A=e=>p.a.get("".concat(e,"-additionalCards")),O=(e,a)=>p.a.set("".concat(e,"-additionalCards"),a),P=e=>p.a.get("".concat(e,"-scryCards")),H=(e,a)=>p.a.set("".concat(e,"-scryCards"),a),B=(e,a)=>a&&a.customProperties.find(a=>a.name===e),Y=e=>"https://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=".concat(e.multiverse_ids[0],"&type=card"),z=({planes:e})=>n.a.createElement(c.a,{title:"Planechase"},n.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/planechase.ico"}),n.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/planechase_256.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/planechase_64.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/planechase_128.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/planechase_256.png"}),n.a.createElement("link",{rel:"manifest",href:"/planechase-manifest.json"}),e&&e.map(e=>n.a.createElement("link",{rel:"preload",href:Y(e),as:"image",key:e.id})));var L=t(259),j=t.n(L);const R=(e,a,t)=>{const s=G(e);s.splice(t,0,s.splice(a,1)[0]),U(e,s)},W=(e,a,t=!1)=>{let s=G(e);if(!s||t){console.log("Creating New ".concat(e," Deck"));const t=JSON.parse(JSON.stringify(a));t.forEach(e=>e.deck_card_id=j()()),s=se(t),p.a.set("".concat(e,"-history"),[]),U(e,s)}return s},G=e=>p.a.get("".concat(e,"-deck")),U=(e,a)=>p.a.set("".concat(e,"-deck"),a),J=e=>{const a=G(e),t=a.shift();return t&&K(e,t),U(e,a),t},K=(e,a)=>{const t=p.a.get("".concat(e,"-history"));t.push(a),p.a.set("".concat(e,"-history"),t)},q=(e,a)=>p.a.get("".concat(e,"-history")),V=e=>{const a=p.a.get("".concat(e,"-history")),t=a.pop();return t&&X(e,[t]),p.a.set("".concat(e,"-history"),a),a[a.length-1]},X=(e,a)=>{const t=G(e);U(e,a.concat(t))},$=(e,a)=>{const t=G(e);U(e,t.concat(a))},Q=(e,a)=>G(e).find(e=>e.deck_card_id===a),Z=(e,a)=>{const t=Q(e,a);t&&(ae(e,[t]),X(e,[t]))},ee=(e,a)=>{const t=Q(e,a);t&&(ae(e,[t]),$(e,[t]))},ae=(e,a)=>{const t=G(e).filter(e=>!a.find(a=>a.deck_card_id===e.deck_card_id));U(e,t)},te=(e,a,t=!1)=>{const s=[],n=G(e),r=Math.min(n.length,a);let l=0,c=r;for(let i=0;i<c;i++)s.push(n[i]),t&&(n[i].type_line.search("Plane")>=0&&l++,i===c-1&&l<r&&c++);return s},se=e=>{let a,t,s=e.length;for(;0!==s;)t=Math.floor(Math.random()*s),s-=1,a=e[s],e[s]=e[t],e[t]=a;return e};var ne=t(260),re=t.n(ne),le=t(149),ce=t.n(le);const ie=re.a.create(),oe=function(){var e=Object(w.a)(S.a.mark((function e(){var a,t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=he("planes")){e.next=12;break}return console.log("Loading from Axios"),e.next=6,ie.get("https://api.scryfall.com/cards/search?include_extras=1&q=t%3Aplane+or+t%3Aphenomenon&unique=cards");case 6:t=e.sent,ue("planes",a=(a=t.data.data).map(e=>de(e))),e.next=13;break;case 12:console.log("Loaded from store");case 13:return e.abrupt("return",a);case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(w.a)(S.a.mark((function e(){var a,t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=he("schemes")){e.next=12;break}return console.log("Loading from Axios"),e.next=6,ie.get("https://api.scryfall.com/cards/search?include_extras=1&q=t%3Ascheme&unique=cards");case 6:t=e.sent,ue("schemes",a=(a=t.data.data).map(e=>de(e))),e.next=13;break;case 12:console.log("Loaded from store");case 13:return e.abrupt("return",a);case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function de(e){const a={Aretopolis:[{name:"counter",type:"Scroll"}],"Chaotic Aether":[{name:"all-chaos"}],"Interplanar Tunnel":[{name:"top-5"}],"Kilnspire District":[{name:"counter",type:"Charge"}],"Mount Keralia":[{name:"counter",type:"Pressure"}],"Naar Isle":[{name:"counter",type:"Flame"}],"Spatial Merging":[{name:"two-planes"}],"Stairs to Infinity":[{name:"chaos-trigger"},{name:"scry-1"}],"Pools of Becoming":[{name:"chaos-trigger"},{name:"triple-chaos"}],"Your Inescapable Doom":[{name:"unabandonable"},{name:"counter",type:"Doom"}]};return a[e.name]?e.customProperties=a[e.name]:e.customProperties=[],e.oracle_html={__html:e.oracle_text.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />").replace(/{CHAOS}/g,'<i class="ms ms-chaos"></i>').replace(/CHAOS/g,'<i class="ms ms-chaos"></i>').replace(/{W}/g,'<i class="ms ms-w ms-cost"></i>').replace(/{U}/g,'<i class="ms ms-u ms-cost"></i>').replace(/{B}/g,'<i class="ms ms-b ms-cost"></i>').replace(/{R}/g,'<i class="ms ms-r ms-cost"></i>').replace(/{G}/g,'<i class="ms ms-g ms-cost"></i>').replace(/\{1\}/g,'<i class="ms ms-1 ms-cost"></i>').replace(/\{2\}/g,'<i class="ms ms-2 ms-cost"></i>').replace(/\{3\}/g,'<i class="ms ms-3 ms-cost"></i>').replace(/\{T\}/g,'<i class="ms ms-tap"></i>').replace(/{X}/g,'<i class="ms ms-x ms-cost"></i>').replace(/X/g,'<i class="ms ms-x"></i>').replace(/\((.*)\)/g,"<small><em>($1)</em></small>")},e}function he(e){let a=p.a.get(e),t=p.a.get("".concat(e,"-fetched"));return!a||(s=t)&&ce()().diff(ce.a.unix(s),"days")>5?null:a;var s}function ue(e,a){p.a.set(e,a),p.a.set("".concat(e,"-fetched"),ce()().unix())}class ge extends s.Component{constructor(e){super(e),this.state={dotsCount:e.start||0}}componentDidMount(){const e=this.props.interval,a=void 0===e?500:e;this.dotsInterval=setInterval(()=>{this.setState({dotsCount:this.state.dotsCount+1})},a)}componentWillUnmount(){clearInterval(this.dotsInterval)}getDotString(e,a,t="."){let s=e%(a+1),n="";for(let r=0;r<s;r++)n+=t;return n}render(){const e=this.props,a=e.label,t=void 0===a?"Loading":a,s=e.className,r=e.numDots,l=void 0===r?3:r,c=this.state.dotsCount;let i=this.getDotString(c,l,"."),o="loading-dots ".concat(s);return n.a.createElement("span",{className:o},t,i)}}var pe=t(203),Ee=t(261),ye=t.n(Ee),ke=t(269);const fe=({card:e})=>{const a=Object(s.useState)((null===e||void 0===e?void 0:e.counter)||0),t=Object(ke.a)(a,2),r=t[0],l=t[1],c=(e=>e.customProperties.find(e=>"counter"===e.name).type)(e);return n.a.createElement("div",null,n.a.createElement("h1",{className:"text-shadow noselect"},r),n.a.createElement(v.a,{onClick:()=>{e.counter=r+1,l(r+1)},variant:"dark",size:"lg",className:"btn-translucent"},n.a.createElement("h3",{className:"mb-0"},"Add ",c," Counter")))};t(202);class ve extends s.Component{constructor(...e){super(...e),this.state={modalOpen:!1,fullscreen:!1},this.toggleModal=()=>{console.log("Toggle Modal"),this.setState({modalOpen:!this.state.modalOpen})},this.toggleFullScreen=()=>{console.log("Toggle FullScreen"),this.setState({fullscreen:!this.state.fullscreen})},this.renderCardImage=()=>n.a.createElement(pe.a.Img,{variant:"top",width:"100%",src:this.imageURI(),className:"mtg-card mtg-card-plane"})}render(){const e=this.props,a=e.listDisplay,t=e.card,s=e.children;return a?n.a.createElement(n.a.Fragment,null,n.a.createElement(D.a.Item,{variant:"dark",onClick:this.toggleModal},n.a.createElement("div",null,t.name)),n.a.createElement(_.a,{show:this.state.modalOpen,onHide:this.toggleModal,size:"md",backdrop:!0,dialogClassName:"modal-content-no-border"},n.a.createElement(_.a.Body,{className:"p-0",centered:"true"},n.a.createElement(ve,{card:t}),s))):n.a.createElement(pe.a,{bg:"black",text:"light",className:"mtg-plane-card"},this.renderImage(),this.renderCounter(),this.renderChildren(),this.renderBody(),this.renderActions())}renderBody(){const e=this.renderText();return e&&n.a.createElement(pe.a.Body,null,e)}renderCounter(){const e=this.props,a=e.card,t=e.renderActions,s=k("displayImages"),r=B("counter",a);if(t&&r)return s?n.a.createElement("div",{onDoubleClick:this.toggleFullScreen},n.a.createElement(pe.a.ImgOverlay,{className:"text-center plane-overlay counter-overlay"},n.a.createElement(pe.a.Title,{className:"text-center"},n.a.createElement(fe,{card:a})))):n.a.createElement(pe.a.Body,{className:"text-center pb-0"},n.a.createElement(fe,{card:a}))}renderChildren(){const e=this.props.children,a=k("displayImages");if(e)return a?n.a.createElement("div",{onDoubleClick:this.toggleFullScreen},n.a.createElement(pe.a.ImgOverlay,{className:"text-center plane-overlay child-overlay"},n.a.createElement(pe.a.Title,{className:"text-center"},e))):n.a.createElement(pe.a.Body,{className:"text-center pb-0"},e)}renderActions(){const e=this.props.card;if(k("displayGatherer")&&e)return n.a.createElement(pe.a.Footer,null,n.a.createElement(pe.a.Link,{href:e.related_uris.gatherer,target:"_blank",rel:"noopener noreferrer"},"Gatherer"))}renderText(){const e=this.props.card;if(k("displayText"))return e?n.a.createElement(n.a.Fragment,null,n.a.createElement(pe.a.Title,null,n.a.createElement("h5",null,e.name)),n.a.createElement(pe.a.Subtitle,null,e.type_line),n.a.createElement(pe.a.Text,{dangerouslySetInnerHTML:e.oracle_html})):n.a.createElement(pe.a.Title,null,"None")}renderImage(){if(k("displayImages"))return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{onDoubleClick:this.toggleFullScreen},this.renderCardImage()),n.a.createElement(_.a,{show:this.state.fullscreen,onHide:this.toggleFullScreen,backdrop:!0,dialogClassName:"modal-content-full bg-transparent",centered:!0},n.a.createElement(_.a.Body,{className:"p-0",centered:"true",onClick:this.toggleFullScreen},this.renderCardImage())))}imageURI(){const e=this.props.card;return e?Y(e):ye.a}}var be=t(262),Ce=t.n(be),Se=(t(311),t(312),t(184)),we=t.n(Se);const Ne=({rollDone:e=we.a})=>n.a.createElement("div",{className:"planar"},n.a.createElement(Ce.a,{numDice:1,rollDone:a=>e((e=>{switch(e){case 1:return"Planeswalk";case 6:return"Chaos";default:return"Blank"}})(a)),defaultRoll:1,outline:!0,outlineColor:"#000000"}));var De=t(188),xe=t.n(De);const Te=({enabled:e,backdrop:a=!1,style:t={}})=>{const s=a?{backgroundColor:"#ffffff"}:{};return n.a.createElement("span",null,e?n.a.createElement("i",{className:"ms ms-dfc ms-dfc-day",style:xe()({},s,t)}):n.a.createElement("i",{className:"ms ms-dfc ms-dfc-night",style:xe()({},s,t)}))};class _e extends s.Component{constructor(...e){var a;super(...e),a=this,this.state={loading:!1,planes:[],deck:null,currentCard:null,revealedCards:[],additionalCards:[],scryCards:[],tripleChaosModalOpen:!1,scryModalOpen:!1,planeswalkDisabled:!1,showHistory:!1,showDeck:!1,showDeckImages:!1,showPlanarDie:!0},this.componentDidMount=Object(w.a)(S.a.mark((function e(){var t,s,n,r,l,c,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:t=e.sent,s=W("planechase",t),n=F("planechase"),m="planechase",r=p.a.get("".concat(m,"-revealedCards"))||[],l=P("planechase")||[],c=A("planechase"),i=!!B("top-5",n),o=l.length>0&&!!B("scry-1",n),a.setState({planes:t,loading:!1,deck:s,currentCard:n,revealedCards:r,additionalCards:c,scryCards:l,planeswalkDisabled:i,scryModalOpen:o});case 11:case"end":return e.stop()}var m}),e)}))),this.refreshDeck=()=>{const e=G("planechase");this.setState({deck:e})},this.planeswalk=()=>{const e=J("planechase");I("planechase",e);let a=[],t=[];if(B("two-planes",e)){a=te("planechase",2,!0),ae("planechase",a);const e=a.filter(e=>e.type_line.search("Plane")>=0),s=a.filter(e=>e.type_line.search("Phenomenon")>=0);e.forEach(e=>K("planechase",e)),$("planechase",s),a=[],t=e}B("top-5",e)&&(a=te("planechase",5,!0),ae("planechase",a),this.setState({planeswalkDisabled:!0})),M("planechase",a),O("planechase",t),this.refreshDeck(),this.setState({currentCard:e,revealedCards:a,additionalCards:t})},this.reset=Object(w.a)(S.a.mark((function e(){var t,s,n,r,l,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,oe();case 3:t=e.sent,s=W("planechase",t,!0),n=I("planechase",null),r=M("planechase",[]),l=H("planechase",[]),c=O("planechase",[]),a.setState({planes:t,loading:!1,deck:s,currentCard:n,revealedCards:r,scryCards:l,additionalCards:c,planeswalkDisabled:!1,scryModalOpen:!1});case 10:case"end":return e.stop()}}),e)}))),this.undo=Object(w.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=V("planechase"),a.refreshDeck(),a.setState({currentCard:t});case 3:case"end":return e.stop()}}),e)}))),this.triggerChaos=e=>{const a=this.state.scryCards;if(console.log("Chaos Triggered"),B("triple-chaos",e)){const e=te("planechase",3,!0);ae("planechase",e);const a=se(e.slice());$("planechase",a),this.refreshDeck(),M("planechase",e),this.setState({revealedCards:e,tripleChaosModalOpen:!0})}if(B("scry-1",e)){if(!a||0===a.length){const e=te("planechase",1,!1);ae("planechase",e),H("planechase",e),this.setState({scryCards:e})}this.setState({scryModalOpen:!0})}},this.renderDevTools=()=>{if(k("devTools"))return n.a.createElement("div",{className:"my-4"},n.a.createElement("h5",{className:"text-center noselect"},"Dev Tools"),n.a.createElement(v.a,{onClick:this.undo,variant:"warning",block:!0},"Undo"),this.renderDeck(),n.a.createElement(v.a,{onClick:this.togglePlanarDie,variant:"secondary",block:!0},n.a.createElement("span",{className:"mr-2"},"Planar Die"),n.a.createElement(Te,{enabled:this.state.showPlanarDie,backdrop:!0})))},this.togglePlanarDie=()=>{this.setState({showPlanarDie:!this.state.showPlanarDie})},this.toggleDeck=()=>{this.setState({showDeck:!this.state.showDeck})},this.toggleDeckImages=()=>{this.setState({showDeckImages:!this.state.showDeckImages})},this.manipulateDeck=()=>{this.refreshDeck()},this.renderDeck=()=>{const e=this.state,a=e.deck,t=e.showDeck,s=e.showDeckImages;return n.a.createElement("div",{className:"my-2"},n.a.createElement(v.a,{onClick:this.toggleDeck,variant:"secondary",block:!0},t?"Hide":"Show"," Deck"),n.a.createElement(N.a,{in:t},n.a.createElement("div",null,t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{onClick:this.toggleDeckImages,variant:"secondary",block:!0},s?"Hide":"Show"," Full Card"),n.a.createElement(D.a,null,a.map((e,t)=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(ve,{card:e,listDisplay:!s}),n.a.createElement(D.a.Item,{className:"text-center justify-content-center d-flex"},n.a.createElement(x.a,null,n.a.createElement(T.a,null,n.a.createElement(v.a,{variant:"secondary",disabled:0===t,onClick:()=>this.manipulateDeck(R("planechase",t,t-1))},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"})),n.a.createElement(v.a,{variant:"secondary",disabled:t===a.length-1,onClick:()=>this.manipulateDeck(R("planechase",t,t+1))},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"}))),n.a.createElement(T.a,{className:"ml-2"},n.a.createElement(v.a,{variant:"secondary",disabled:0===t,onClick:()=>this.manipulateDeck(Z("planechase",e.deck_card_id))},n.a.createElement("i",{className:"ms ms-untap ms-2x ss-mythic ss-grad"})),n.a.createElement(v.a,{variant:"secondary",disabled:t===a.length-1,onClick:()=>this.manipulateDeck(ee("planechase",e.deck_card_id))},n.a.createElement("i",{className:"ms ms-tap ms-2x ss-mythic ss-grad"}))),n.a.createElement(T.a,{className:"ml-2"},n.a.createElement(v.a,{variant:"danger",onClick:()=>this.manipulateDeck(ae("planechase",[e]))},n.a.createElement("i",{className:"ss ss-x ss-10e ss-rare ss-grad ss-2x"}))))))))))))},this.toggleHistory=()=>{this.setState({showHistory:!this.state.showHistory})},this.renderHistory=()=>{const e=this.state.showHistory,a=q("planechase");return n.a.createElement("div",{className:"my-2"},n.a.createElement(v.a,{onClick:this.toggleHistory,variant:"secondary",block:!0},e?"Hide":"Show"," History"),n.a.createElement(N.a,{in:e},n.a.createElement("div",null,e&&a&&n.a.createElement(D.a,null,a.reverse().map(e=>n.a.createElement(ve,{card:e,key:e.deck_card_id,listDisplay:!0}))))))},this.selectPlane=e=>{const a=this.state.revealedCards;ae("planechase",a),X("planechase",[e]);const t=a.filter(a=>a.deck_card_id!==e.deck_card_id),s=se(t.slice());$("planechase",s),M("planechase",[]),this.setState({planeswalkDisabled:!1,revealedCards:[]}),this.planeswalk()},this._tripleChaosModalClose=()=>{M("planechase",[]),this.setState({tripleChaosModalOpen:!1,revealedCards:[]})},this._tripleChaosModalToggle=()=>{this.state.tripleChaosModalOpen&&this._tripleChaosModalClose()},this._scryModalClose=()=>{H("planechase",[]),this.setState({scryModalOpen:!1,scryCards:[]})},this._scryTop=()=>{const e=this.state.scryCards;X("planechase",e),console.log("Scry Top",e),this.refreshDeck(),H("planechase",[]),this.setState({scryCards:[],scryModalOpen:!1})},this._scryBottom=()=>{const e=this.state.scryCards;$("planechase",e),console.log("Scry Bottom",e),this.refreshDeck(),H("planechase",[]),this.setState({scryCards:[],scryModalOpen:!1})},this.renderScryModal=()=>{const e=this.state,a=e.scryCards,t=e.scryModalOpen;if(a&&t)return n.a.createElement(_.a,{show:!!t,size:"md",dialogClassName:"bg-secondary",variant:"secondary",backdrop:"static"},n.a.createElement(_.a.Header,{className:"justify-content-center text-white noselect"},n.a.createElement(_.a.Title,null,n.a.createElement("i",{className:"ms ms-chaos mx-4"}),"Scry Card",n.a.createElement("i",{className:"ms ms-chaos mx-4"}))),n.a.createElement(_.a.Body,null,n.a.createElement(v.a,{variant:"info",block:!0,onClick:this._scryTop},"Top"),a.map(e=>n.a.createElement(ve,{card:e,key:e.deck_card_id})),n.a.createElement(v.a,{variant:"info",block:!0,onClick:this._scryBottom},"Bottom")))}}render(){const e=this.state,a=e.loading,t=e.planes,s=e.deck,r=e.currentCard,l=e.planeswalkDisabled,c=e.showPlanarDie;return n.a.createElement("div",{className:"planechase"},n.a.createElement(z,{planes:t}),n.a.createElement("div",{className:"fixed-top mt-1 ml-1 w-25 text-left"},n.a.createElement(v.a,{onClick:this.planeswalk,className:"mb-2",variant:"success",disabled:l||a,block:!0},n.a.createElement("i",{className:"ms ms-planeswalker ms-2x mx-2"}),n.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Planeswalk"))),a?n.a.createElement(ge,{className:"text-muted"}):n.a.createElement("div",{className:"mb-2"},r?n.a.createElement(N.a,{key:r.deck_card_id,timeout:100},n.a.createElement(ve,{card:r,renderActions:"true"},this.renderChaos(r))):n.a.createElement(ve,null)),this.renderTwoPlanes(),this.renderFivePlanes(),this.renderTripleChaosModal(),this.renderScryModal(),this.renderHistory(),n.a.createElement("p",{className:"text-center my-3 noselect"},"There are ",s?s.length:0," cards remaining."),n.a.createElement(v.a,{onClick:this.reset,variant:"danger",block:!0},"Reset"),this.renderDevTools(),c&&!l&&n.a.createElement("div",{className:"position-fixed",style:{bottom:"5px",right:"5px"}},n.a.createElement(Ne,{rollDone:e=>console.log("Rolled: ".concat(e))})))}renderChaos(e){if(B("chaos-trigger",e))return n.a.createElement(v.a,{onClick:()=>this.triggerChaos(e),variant:"info",size:"lg",className:"btn-translucent"},n.a.createElement("i",{className:"ms ms-chaos ms-2x mx-2"}),n.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Trigger Chaos"))}renderTwoPlanes(){const e=this.state,a=e.currentCard,t=e.additionalCards;if(B("two-planes",a)){const e=t.filter(e=>e.type_line.search("Plane")>=0);return n.a.createElement("div",null,n.a.createElement(u.a,{variant:"info",className:"text-center mb-0"},n.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),"You Are On Both Planes",n.a.createElement("i",{className:"ms ms-planeswalker mx-2"})),e.map(e=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(ve,{card:e,renderActions:"true"},this.renderChaos(e)))))}}renderFivePlanes(){const e=this.state,a=e.currentCard,t=e.revealedCards;if(B("top-5",a)){console.log(t);const e=t.filter(e=>e.type_line.search("Plane")>=0);return console.log(e),n.a.createElement("div",null,n.a.createElement(u.a,{variant:"info",className:"text-center mb-0"},n.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),"Pick a Plane to Planeswalk To",n.a.createElement("i",{className:"ms ms-planeswalker mx-2"})),e.map(e=>n.a.createElement("div",{key:e.deck_card_id},n.a.createElement(ve,{card:e},n.a.createElement(v.a,{onClick:()=>this.selectPlane(e),variant:"primary",className:"btn-translucent",size:"lg"},n.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),n.a.createElement("span",{className:"mx-2"},"Planeswalk"))))))}}renderTripleChaosModal(){const e=this.state,a=e.revealedCards,t=e.tripleChaosModalOpen;if(a&&t){const e=a.filter(e=>e.type_line.search("Plane")>=0);return n.a.createElement(_.a,{show:!!t,onHide:this._tripleChaosModalToggle,size:"md",backdrop:!0,dialogClassName:"bg-secondary"},n.a.createElement(_.a.Header,{className:"flex-column text-center text-white noselect"},n.a.createElement("div",{className:"modal-title h5 mx-auto"},n.a.createElement("i",{className:"ms ms-chaos mr-1"}),n.a.createElement("i",{className:"ms ms-chaos mr-1"}),n.a.createElement("i",{className:"ms ms-chaos mr-1"}),n.a.createElement("span",{className:"mx-1"},"Triple Chaos"),n.a.createElement("i",{className:"ms ms-chaos ml-1"}),n.a.createElement("i",{className:"ms ms-chaos ml-1"}),n.a.createElement("i",{className:"ms ms-chaos ml-1"})),n.a.createElement("div",{className:"mx-auto"},n.a.createElement("small",{className:"text-center"},"You Pick Order"))),n.a.createElement(_.a.Body,{className:"text-center"},e.map(e=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(ve,{card:e},this.renderChaos(e))))),n.a.createElement(_.a.Footer,null,n.a.createElement(v.a,{variant:"info",block:!0,"aria-label":"Close",onClick:this._tripleChaosModalClose},"Done")))}}}var Fe=t(221),Ie=t(222),Me=t(223),Ae=t(224);const Oe=({schemes:e})=>n.a.createElement(c.a,{title:"Archenemy"},n.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/archenemy.ico"}),n.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/archenemy_256.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/archenemy_64.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/archenemy_128.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/archenemy_256.png"}),n.a.createElement("link",{rel:"manifest",href:"/archenemy-manifest.json"}),e&&e.map(e=>n.a.createElement("link",{rel:"preload",href:e.image_uris.large,as:"image",key:e.id}))),Pe=[{name:"Assemble the Doomsday Machine",cards:[["All in Good Time",1],["Behold the Power of Destruction",1],["Embrace My Diabolical Vision",1],["Feed the Machine",2],["I Delight in Your Convulsions",1],["I Know All, I See All",2],["Ignite the Cloneforge!",2],["Introductions Are in Order",1],["The Iron Guardian Stirs",2],["My Genius Knows No Bounds",1],["Nothing Can Stop Me Now",1],["The Pieces Are Coming Together",2],["Realms Befitting My Majesty",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Scorch the World with Dragonfire",cards:[["All Shall Smolder in My Wake",2],["Approach My Molten Realm",1],["The Fate of the Flammable",1],["I Bask in Your Silent Awe",2],["I Delight in Your Convulsions",1],["Introductions Are in Order",1],["Know Naught but Fire",1],["Look Skyward and Despair",2],["My Crushing Masterstroke",1],["My Wish Is Your Command",2],["Realms Befitting My Majesty",1],["Tooth, Claw, and Tail",1],["Which of You Burns Brightest?",2],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Trample Civilization Underfoot",cards:[["Every Last Vestige Shall Rot",2],["Evil Comes to Fruition",1],["I Call on the Ancient Magics",1],["I Delight in Your Convulsions",1],["Into the Earthen Maw",1],["Introductions Are in Order",1],["May Civilization Collapse",1],["Nature Demands an Offering",2],["Nature Shields Its Own",2],["Realms Befitting My Majesty",1],["Roots of All Evil",2],["The Very Soil Shall Shake",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1],["Your Will Is Not Your Own",2]]},{name:"Bring About the Undead Apocalypse",cards:[["Choose Your Champion",2],["Dance, Pathetic Marionette",1],["The Dead Shall Serve",2],["Every Hope Shall Vanish",2],["I Delight in Your Convulsions",2],["Introductions Are in Order",1],["Mortal Flesh Is Weak",1],["My Undead Horde Awakens",1],["Only Blood Ends Your Nightmares",2],["Realms Befitting My Majesty",1],["Rotted Ones, Lay Siege",2],["Surrender Your Thoughts",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Archenemy Nicol Bolas",cards:[["Because I Have Willed It",1],["Behold My Grandeur",1],["Bow to My Command",1],["Choose Your Demise",1],["Delight in the Hunt",1],["Every Dream a Nightmare",1],["For Each of You, a Gift",1],["Know Evil",1],["Make Yourself Useful",1],["The Mighty Will Fall",1],["My Forces Are Innumerable",1],["My Laughter Echoes",1],["No One Will Hear Your Cries",1],["Pay Tribute to Me",1],["Power Without Equal",1],["A Reckoning Approaches",1],["There Is No Refuge",1],["This World Belongs to Me",1],["What's Yours Is Now Mine",1],["When Will You Learn?",1]]}];var He=t(263),Be=t.n(He);class Ye extends s.Component{constructor(...e){super(...e),this.state={modalOpen:!1},this.toggleModal=()=>{console.log("Toggle Modal"),this.setState({modalOpen:!this.state.modalOpen})}}render(){const e=this.props,a=e.listDisplay,t=e.card,s=e.children;return a?n.a.createElement(n.a.Fragment,null,n.a.createElement(D.a.Item,{variant:"dark",onClick:this.toggleModal},t.name),n.a.createElement(_.a,{show:this.state.modalOpen,onHide:this.toggleModal,size:"md",backdrop:!0,dialogClassName:"modal-content-no-border"},n.a.createElement(_.a.Body,{className:"p-0",centered:"true"},n.a.createElement(Ye,{card:t}),s))):n.a.createElement(pe.a,{bg:"black",text:"light",className:"mtg-scheme-card"},this.renderImage(),this.renderCounter(),this.renderChildren(),this.renderBody(),this.renderActions())}renderBody(){const e=this.renderText();return e&&n.a.createElement(pe.a.Body,null,e)}renderCounter(){const e=this.props,a=e.card,t=e.renderActions,s=k("displayImages"),r=B("counter",a);if(t&&r)return s?n.a.createElement(pe.a.ImgOverlay,{className:"text-center scheme-overlay counter-overlay"},n.a.createElement(pe.a.Title,{className:"text-center pt-5 mt-sm-5"},n.a.createElement(fe,{card:a}))):n.a.createElement(pe.a.Body,{className:"text-center pb-0"},n.a.createElement(fe,{card:a}))}renderChildren(){const e=this.props.children,a=k("displayImages");if(e)return a?n.a.createElement(pe.a.ImgOverlay,{className:"text-center scheme-overlay child-overlay"},n.a.createElement(pe.a.Title,{className:"text-center pt-5 mt-sm-5"},e)):n.a.createElement(pe.a.Body,{className:"text-center pb-0"},e)}renderActions(){const e=this.props.card;if(k("displayGatherer")&&e)return n.a.createElement(pe.a.Footer,null,n.a.createElement(pe.a.Link,{href:e.related_uris.gatherer,target:"_blank",rel:"noopener noreferrer"},"Gatherer"))}renderText(){const e=this.props.card;if(k("displayText"))return e?n.a.createElement(n.a.Fragment,null,n.a.createElement(pe.a.Title,null,n.a.createElement("h5",null,e.name)),n.a.createElement(pe.a.Subtitle,null,e.type_line),n.a.createElement(pe.a.Text,{dangerouslySetInnerHTML:e.oracle_html})):n.a.createElement(pe.a.Title,null,"None")}renderImage(){if(k("displayImages"))return n.a.createElement(pe.a.Img,{variant:"top",width:"100%",src:this.imageURI(),className:"mtg-card mtg-card-scheme"})}imageURI(){const e=this.props.card;return e?e.image_uris.large:Be.a}}class ze extends s.Component{constructor(...e){var a;super(...e),a=this,this.state={loading:!0,deck:null,currentCard:null,ongoingSchemes:[],schemes:[],showHistory:!1,showDeck:!1,showDeckImages:!1,abandonedOngoing:!1,deckSelection:!0,customDeck:null},this.componentDidMount=Object(w.a)(S.a.mark((function e(){var t,s,n,r,l,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:t=e.sent,s=G("archenemy"),n=F("archenemy"),r=A("archenemy")||[],l=!!p.a.get("archenemy-abandonedOngoing"),(c=JSON.parse(JSON.stringify(t))).forEach(e=>e.count=0),a.setState({currentCard:n,deck:s,loading:!1,ongoingSchemes:r,schemes:t,abandonedOngoing:l,deckSelection:!s,customDeck:c});case 10:case"end":return e.stop()}}),e)}))),this.refreshDeck=()=>{const e=G("archenemy");this.setState({deck:e})},this.scheme=()=>{const e=this.state,a=e.currentCard,t=e.ongoingSchemes;a&&"Ongoing Scheme"===a.type_line&&t.push(a);const s=J("archenemy");I("archenemy",s),O("archenemy",t),this.refreshDeck(),this.setState({currentCard:s,ongoingSchemes:t,abandonedOngoing:p.a.set("archenemy-abandonedOngoing",!1)})},this.reset=Object(w.a)(S.a.mark((function e(){var t,s,n,r,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,me();case 3:t=e.sent,null,U("archenemy",null),s=I("archenemy",null),n=O("archenemy",[]),r=p.a.set("archenemy-abandonedOngoing",!1),(l=JSON.parse(JSON.stringify(t))).forEach(e=>e.count=0),a.setState({schemes:t,loading:!1,deck:null,currentCard:s,ongoingSchemes:n,abandonedOngoing:r,deckSelection:!0,customDeck:l});case 12:case"end":return e.stop()}}),e)}))),this.undo=Object(w.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=V("archenemy"),a.refreshDeck(),a.setState({currentCard:t});case 3:case"end":return e.stop()}}),e)}))),this.renderDevTools=()=>{if(k("devTools"))return n.a.createElement("div",{className:"my-4"},n.a.createElement("h5",{className:"text-center noselect"},"Dev Tools"),n.a.createElement(v.a,{onClick:this.undo,variant:"warning",block:!0},"Undo"),this.renderDeck())},this.abandonScheme=e=>{const a=this.state,t=a.ongoingSchemes;if(a.currentCard.deck_card_id===e.deck_card_id){console.log("Abandon Current Scheme",e),I("archenemy",null);const a=p.a.set("archenemy-abandonedOngoing",!0);this.setState({currentCard:null,abandonedOngoing:a})}else{console.log("Abandon Scheme",e);let a=t.filter(a=>a.deck_card_id!==e.deck_card_id);O("archenemy",a),this.setState({ongoingSchemes:a})}},this.toggleHistory=()=>{this.setState({showHistory:!this.state.showHistory})},this.renderHistory=()=>{const e=this.state.showHistory,a=q("archenemy");return n.a.createElement("div",{className:"my-2"},n.a.createElement(v.a,{onClick:this.toggleHistory,block:!0,variant:"secondary"},e?"Hide":"Show"," History"),n.a.createElement(N.a,{in:e},n.a.createElement("div",null,e&&a&&n.a.createElement(D.a,null,a.reverse().map(e=>n.a.createElement(Ye,{card:e,key:e.deck_card_id,listDisplay:!0}))))))},this.resetCustomDeck=()=>{const e=this.state.customDeck;e.forEach(e=>e.count=0),this.setState({customDeck:e})},this.deckCardTitle=e=>n.a.createElement(pe.a.Title,{className:"d-flex"},n.a.createElement("div",{className:"h3 text-center align-self-center"},this.deckIcon(e)),n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement("h3",{className:"text-center"},e)),n.a.createElement("div",{className:"h3 text-center align-self-center"},this.deckIcon(e))),this.toggleDeck=()=>{this.setState({showDeck:!this.state.showDeck})},this.toggleDeckImages=()=>{this.setState({showDeckImages:!this.state.showDeckImages})},this.manipulateDeck=()=>{this.refreshDeck()},this.renderDeck=()=>{const e=this.state,a=e.deck,t=e.showDeck,s=e.showDeckImages;return n.a.createElement("div",{className:"my-2"},n.a.createElement(v.a,{onClick:this.toggleDeck,block:!0,variant:"secondary"},t?"Hide":"Show"," Deck"),n.a.createElement(N.a,{in:t},n.a.createElement("div",null,t&&a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{onClick:this.toggleDeckImages,block:!0,variant:"secondary"},s?"Hide":"Show"," Full Card"),n.a.createElement(D.a,null,a.map((e,t)=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(Ye,{card:e,listDisplay:!s}),n.a.createElement(D.a.Item,{className:"text-center justify-content-center d-flex"},n.a.createElement(x.a,null,n.a.createElement(T.a,null,n.a.createElement(v.a,{variant:"secondary",disabled:0===t,onClick:()=>this.manipulateDeck(R("archenemy",t,t-1))},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"})),n.a.createElement(v.a,{variant:"secondary",disabled:t===a.length-1,onClick:()=>this.manipulateDeck(R("archenemy",t,t+1))},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"}))),n.a.createElement(T.a,{className:"ml-2"},n.a.createElement(v.a,{variant:"secondary",disabled:0===t,onClick:()=>this.manipulateDeck(Z("archenemy",e.deck_card_id))},n.a.createElement("i",{className:"ms ms-untap ms-2x ss-mythic ss-grad"})),n.a.createElement(v.a,{variant:"secondary",disabled:t===a.length-1,onClick:()=>this.manipulateDeck(ee("archenemy",e.deck_card_id))},n.a.createElement("i",{className:"ms ms-tap ms-2x ss-mythic ss-grad"}))),n.a.createElement(T.a,{className:"ml-2"},n.a.createElement(v.a,{variant:"danger",onClick:()=>this.manipulateDeck(ae("archenemy",[e]))},n.a.createElement("i",{className:"ss ss-x ss-10e ss-rare ss-grad ss-2x"}))))))))))))}}render(){const e=this.state,a=e.loading,t=e.schemes,s=e.deckSelection;return n.a.createElement("div",{className:"archenemy"},n.a.createElement(Oe,{schemes:t}),a?n.a.createElement(ge,{className:"text-muted"}):s?this.renderDeckSelect():this.renderGamePlay(),this.renderDevTools())}renderGamePlay(){const e=this.state,a=e.loading,t=e.deck,s=e.currentCard,r=e.abandonedOngoing;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"fixed-top mt-1 ml-1 w-25 text-left"},n.a.createElement(v.a,{onClick:this.scheme,className:"mb-2",variant:"success",disabled:a,block:!0},n.a.createElement("i",{className:"ss ss-arc ss-3x mx-2"}),n.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Scheme"))),a?n.a.createElement(ge,{className:"text-muted"}):n.a.createElement("div",{className:"pt-2 mb-2 d-flex justify-content-center"},r?n.a.createElement(Fe.a,{className:"bg-danger text-center",fluid:!0},n.a.createElement(Ie.a,{fluid:!0},n.a.createElement("h1",null,"Current Scheme Has Been Foiled!"))):s?n.a.createElement(N.a,{key:s.deck_card_id,timeout:100},n.a.createElement(Ye,{card:s,renderActions:"true"},this.renderAbandon(s))):n.a.createElement(Ye,null)),this.renderOngoingSchemes(),this.renderHistory(),n.a.createElement("p",{className:"text-center my-3 noselect"},"There are ",t?t.length:0," cards remaining."),n.a.createElement(v.a,{onClick:this.reset,variant:"danger",block:!0},"Reset"))}renderDeckSelect(){const e=this.state.schemes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(pe.a,{className:"noselect"},n.a.createElement(pe.a.Body,null,this.deckCardTitle("All Schemes"),n.a.createElement(v.a,{block:!0,variant:"success",onClick:()=>this.selectDeck("All",e)},"Use All"))),this.renderPrebuilts(),this.renderBuildCustomDeck())}renderOngoingSchemes(){const e=this.state.ongoingSchemes;if(e&&e.length>0)return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{variant:"info",className:"text-center"},n.a.createElement("h5",null,"Ongoing Schemes")),n.a.createElement("div",{className:"d-flex justify-content-center flex-wrap "},e.map(e=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(Ye,{card:e,renderActions:"true"},this.renderAbandon(e))))))}renderAbandon(e){if("Ongoing Scheme"===e.type_line&&!B("unabandonable",e))return n.a.createElement(v.a,{onClick:()=>this.abandonScheme(e),variant:"danger",size:"lg",className:"btn-translucent"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("i",{className:"ss ss-bok ss-2x ss-grad ss-rare mx-2"}),n.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Abandon Scheme")))}selectDeck(e,a){console.log("Selected ".concat(e),a);const t="All"===e?a:[];a.forEach(e=>{for(let a=0;a<e.count;a++)t.push(e)});const s=W("archenemy",t,!0);this.setState({deck:s,deckSelection:!1})}incrementCount(e){const a=this.state.customDeck;a.forEach(a=>{a.id===e.id&&(a.count+=1,a.count=Math.min(a.count,2))}),this.setState({customDeck:a})}decrementCount(e){const a=this.state.customDeck;a.forEach(a=>{a.id===e.id&&(a.count-=1,a.count=Math.max(a.count,0))}),this.setState({customDeck:a})}customDeckSize(){return this.state.customDeck.map(e=>e.count).reduce((e,a)=>e+a,0)}renderBuildCustomDeck(){const e=this.state.customDeck,a=e.map(e=>n.a.createElement(D.a.Item,{key:e.id,variant:"dark",className:"noselect"},n.a.createElement(Ye,{card:e}),n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,n.a.createElement(Me.a,{pill:!0,variant:e.count>0?"success":"dark"},"x",e.count)),n.a.createElement(T.a,null,n.a.createElement(v.a,{disabled:e.count<=0,onClick:()=>this.decrementCount(e),variant:"secondary"},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),n.a.createElement(v.a,{disabled:e.count>=2,onClick:()=>this.incrementCount(e),variant:"secondary"},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"}))))));return n.a.createElement(Ae.a,null,n.a.createElement(pe.a,{className:"noselect"},n.a.createElement(pe.a.Body,null,this.deckCardTitle("Custom Deck"),n.a.createElement(Ae.a.Toggle,{as:v.a,block:!0,eventKey:"custom-deck-toggle",variant:"secondary"},"Build Custom"),n.a.createElement(Ae.a.Collapse,{eventKey:"custom-deck-toggle"},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"fixed-top mt-1 ml-1 text-left"},n.a.createElement(u.a,{variant:"info",className:"clearfix"},n.a.createElement("h4",{className:"float-left"},"Custom Deck Size: ",this.customDeckSize()),n.a.createElement(T.a,{className:"float-right"},n.a.createElement(v.a,{variant:"danger",onClick:this.resetCustomDeck},"Reset"),n.a.createElement(v.a,{variant:"success",onClick:()=>this.selectDeck("Custom",e)},"Use Deck")))),n.a.createElement(D.a,null,a))),n.a.createElement(v.a,{block:!0,variant:"success",onClick:()=>this.selectDeck("Custom",e)},"Use Custom Deck"))))}deckIcon(e,a="ss-mythic ss-grad"){switch(e){case"All Schemes":return n.a.createElement("i",{className:"ss ".concat(a," ss-lea")});case"Custom Deck":return n.a.createElement("i",{className:"ss ".concat(a," ss-chr")});case"Assemble the Doomsday Machine":return n.a.createElement("i",{className:"ss ".concat(a," ss-usg")});case"Scorch the World with Dragonfire":return n.a.createElement("i",{className:"ss ".concat(a," ss-scg")});case"Trample Civilization Underfoot":return n.a.createElement("i",{className:"ss ".concat(a," ss-c20")});case"Bring About the Undead Apocalypse":return n.a.createElement("i",{className:"ss ".concat(a," ss-pd3")});case"Archenemy Nicol Bolas":return n.a.createElement("i",{className:"ss ".concat(a," ss-hou")});default:return null}}renderPrebuilts(){const e=this.state.schemes,a=Pe.map(e=>e.name).map((a,t)=>{const s=((e,a)=>Pe.find(a=>a.name===e).cards.map(e=>{const t=a.find(a=>a.name===e[0]),s=JSON.parse(JSON.stringify(t));return s.count=e[1],s}))(a,e),r=s.map((e,a)=>n.a.createElement(D.a.Item,{key:a,variant:"dark"},n.a.createElement(Ye,{card:e}),n.a.createElement("h1",{className:"text-center"},n.a.createElement(Me.a,{pill:!0,variant:e.count>0?"success":"dark"},"x",e.count))));return n.a.createElement(Ae.a,{key:t},n.a.createElement(pe.a,null,n.a.createElement(pe.a.Body,null,this.deckCardTitle(a),n.a.createElement(Ae.a.Toggle,{as:v.a,block:!0,eventKey:"prebuilt-".concat(t),variant:"secondary"},"Decklist"),n.a.createElement(Ae.a.Collapse,{eventKey:"prebuilt-".concat(t)},n.a.createElement(D.a,null,r)),n.a.createElement(v.a,{block:!0,variant:"success",onClick:()=>this.selectDeck(a,s)},"Use Deck"))))});return n.a.createElement(n.a.Fragment,null,a)}}var Le=t(225),je=t(90),Re=t.n(je),We=t(189),Ge=t.n(We),Ue=t(190),Je=t.n(Ue);const Ke=()=>n.a.createElement(c.a,{title:"SYB"},n.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/starter.ico"}),n.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/starter_256.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/starter_64.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/starter_128.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/starter_256.png"}),n.a.createElement("link",{rel:"manifest",href:"/syb-manifest.json"})),qe={name:"circle",nodeDimensionsIncludeLabels:!0},Ve={name:"grid",nodeDimensionsIncludeLabels:!0,rows:2};class Xe extends s.Component{constructor(...e){var a;super(...e),a=this,this.state={playerCount:4,targets:null,loadingDirection:!1,cySet:!1,labels:{0:"J"},showTurnEdges:!0},this.cy=null,this.dialog=null,this.componentDidMount=()=>{const e=p.a.get("syb-playerCount")||4,a=p.a.get("syb-targets")||null,t=p.a.get("syb-tableShape")||"circle",s=p.a.get("syb-labels")||{0:"J"};this.setState({playerCount:e,targets:a,tableShape:t,labels:s})},this.whichWay=()=>{const e=p.a.set("syb-targets",null);this.setState({loadingDirection:!0,targets:e}),setTimeout(()=>{this.regenerateOrder(),this.setState({loadingDirection:!1})},1500)},this.reset=Object(w.a)(S.a.mark((function e(){var t,s,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),t=p.a.set("syb-playerCount",4),s=p.a.set("syb-targets",null),n=p.a.set("syb-tableShape","circle"),r=p.a.set("syb-labels",{0:"J"}),a.removeListeners(),a.setState({playerCount:t,targets:s,tableShape:n,labels:r},()=>a.regenerateOrder(t));case 7:case"end":return e.stop()}}),e)}))),this.toggleTurnEdges=()=>{this.setState({showTurnEdges:!this.state.showTurnEdges})},this.renderDevTools=()=>{if(k("devTools"))return n.a.createElement("div",{className:"my-4"},n.a.createElement("h5",{className:"text-center noselect"},"Dev Tools"),n.a.createElement(v.a,{onClick:this.toggleTurnEdges,block:!0,variant:"secondary"},n.a.createElement("span",{className:"mr-2"},"Turn Edges"),n.a.createElement(Te,{enabled:this.state.showTurnEdges,backdrop:!0})))}}generateNodes(){const e=this.state,a=e.playerCount,t=e.labels;return Array.from(Array(a).keys()).map(e=>{const a=t[e]||e;return{data:{id:"player-".concat(e),label:a,type:"triangle-tee"}}})}generateEdges(){const e=this.state,a=e.targets,t=e.showTurnEdges;return a?a.map((e,t)=>{const s=t+1>=a.length?0:t+1,n=a[s];return{data:{source:"player-".concat(e),target:"player-".concat(n),label:"Edge from ".concat(e," to ").concat(n)},classes:"screw"}}).concat(t?a.map((e,t)=>{const s=t+1>=a.length?0:t+1;return{data:{source:"player-".concat(t),target:"player-".concat(s),label:"Turn from ".concat(t," to ").concat(s)},classes:"turn"}}):[]):[]}regenerateOrder(e){const a=this.state.playerCount,t=Array.from(Array(e||a).keys()),s=p.a.set("syb-targets",se(t));this.setState({targets:s})}handleCy(e){const a=this.isSquare()?Ve:qe,t=Je()(()=>{e.layout(a).run()},100),s=Je()(e=>{const a=e.target;this.setLabel(a.id().split("-")[1])},100);this.state.cySet||(e.on("add remove",()=>{t()}),e.nodes().on("tap click",s),this.setState({cySet:!0})),this.cy=e}setLabel(e){console.log("Setting label",e),this.dialog.show({title:"Who is this?",bsSize:"sm",actions:[Re.a.CancelAction(),Re.a.OKAction(a=>{const t=this.state.labels;t[e]=a.value,p.a.set("syb-labels",t),this.setState({labels:t})})],prompt:Re.a.TextPrompt({initialValue:e})})}renderCyto(){const e=this.isSquare()?Ve:qe,a={nodes:this.generateNodes(),edges:this.generateEdges()},t=[{selector:"node",style:{padding:"50%",width:"50%",height:"50%","background-color":"#17a2b8","text-valign":"center","text-halign":"center",content:"data(label)"}},{selector:"node[label]",style:{label:"data(label)","font-size":"2em",color:"white"}},{selector:".screw",style:{width:"5%","curve-style":this.isSquare()?"unbundled-bezier":"straight","target-arrow-shape":"triangle ","arrow-scale":2.5,"target-arrow-color":"#FF4444","line-fill":"linear-gradient","line-gradient-stop-colors":["#17a2b8","#FF4444"],"z-index":2}},{selector:".turn",style:{width:"2%","curve-style":"unbundled-bezier","control-point-distances":[-20,-25,-20],"control-point-weights":[.25,.5,.75],"target-arrow-shape":"vee ","line-style":"dashed","arrow-scale":1.5,"target-arrow-color":"#707070","line-color":"#707070",opacity:.5,"z-index":1}}];return n.a.createElement(Ge.a,{cy:e=>this.handleCy(e),elements:Ge.a.normalizeElements(a),style:{width:"100vw",height:"100vh"},className:"flex-grow",stylesheet:t,userPanningEnabled:!1,layout:e})}removeListeners(){this.cy.removeListener("add"),this.cy.removeListener("remove"),this.cy.nodes().removeListener("click"),this.cy.nodes().removeListener("tap"),this.setState({cySet:!1})}isSquare(){this.state.tableShape;return!1}incrementCount(){const e=this.state.playerCount,a=p.a.set("syb-playerCount",e+1);this.regenerateOrder(a),this.removeListeners(),this.setState({playerCount:a})}decrementCount(){const e=this.state.playerCount,a=p.a.set("syb-playerCount",Math.max(e-1,1));this.regenerateOrder(a),this.removeListeners(),this.setState({playerCount:a})}setTableShape(e){const a=p.a.set("syb-tableShape",e);this.setState({tableShape:a})}render(){const e=this.state,a=e.playerCount,t=(e.tableShape,e.loadingDirection);return n.a.createElement("div",{className:"syb"},n.a.createElement(Ke,null),n.a.createElement("div",{className:"my-4"},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,a," Players"),n.a.createElement(T.a,null,n.a.createElement(v.a,{disabled:a<=1,onClick:()=>this.decrementCount(),variant:"secondary"},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),n.a.createElement(v.a,{onClick:()=>this.incrementCount(),variant:"secondary"},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"}))),!1)),n.a.createElement("div",{className:"text-center my-2"},n.a.createElement(v.a,{variant:"danger",onClick:this.whichWay,block:!0,disabled:t},t?"Calculating...":"Which way are we screwing?")),n.a.createElement("div",{className:"d-flex"},t&&n.a.createElement("div",{className:"position-absolute w-75 text-center",style:{top:"45%",left:"0%"}},n.a.createElement(Le.a,{variant:"danger",animation:"grow",className:"position-absolute",style:{width:"10rem",height:"10rem"}})),this.renderCyto()),n.a.createElement(v.a,{onClick:this.reset,variant:"danger",block:!0},"Reset"),this.renderDevTools(),n.a.createElement(Re.a,{ref:e=>{this.dialog=e}}))}}var $e=t(270);const Qe=()=>n.a.createElement(c.a,{title:"Formats"},n.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/evg.ico"}),n.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/evg_180.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:"mtg/icon/evg_180.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"192x192",href:"mtg/icon/evg_192.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"512x512",href:"mtg/icon/evg_512.png"}),n.a.createElement("link",{rel:"manifest",href:"/formats-manifest.json"})),Ze=[{name:"Chode Mode",defaultEnabled:!0},{name:"Deck Swaps",defaultEnabled:!1},{name:"Planechase",defaultEnabled:!0},{name:"EDH",defaultEnabled:!0},{name:"2 Headed Giant",defaultEnabled:!0},{name:"SYB",defaultEnabled:!0},{name:"Range 1",defaultEnabled:!0},{name:"Free for All",defaultEnabled:!0},{name:"Pentacle",defaultEnabled:!0},{name:"Secret Partners",defaultEnabled:!0},{name:"Archenemy",defaultEnabled:!0},{name:"Pentacle",defaultEnabled:!0},{name:"Emperor",defaultEnabled:!0}],ea=e=>!0,aa=e=>e%2===0,ta=e=>e>2&&aa(e),sa=e=>e>2,na=e=>e>=6&&e%3===0,ra=e=>e>=6&&aa(e),la=e=>5===e,ca=[{id:1,name:"Chode Mode",initial:.5,tags:["Chode Mode"],players:ea},{id:2,name:"Planechase ",initial:.5,tags:["Planechase"],players:ea},{id:3,name:"Planechase EDH",initial:.5,tags:["Planechase","EDH"],players:ea},{id:4,name:"EDH Free for All",initial:.5,tags:["EDH","Free for All"],players:sa},{id:5,name:"EDH SYB",initial:.5,tags:["EDH","SYB"],showSwaps:!0,players:ea},{id:6,name:"EDH SYB Deck Swaps",displayName:"EDH SYB",initial:0,tags:["EDH","SYB","Deck Swaps"],showSwaps:!0,players:ea},{id:7,name:"EDH Emperor",initial:.5,tags:["EDH","Emperor"],showSwaps:!0,players:na},{id:8,name:"EDH Emperor Deck Swaps",displayName:"EDH Emperor",initial:0,tags:["EDH","Emperor","Deck Swaps"],showSwaps:!0,players:na},{id:9,name:"2 Headed Giant SYB",initial:.5,tags:["2 Headed Giant","SYB"],players:ta},{id:10,name:"2 Headed Giant Free for All",initial:.5,tags:["2 Headed Giant","Free for All"],players:e=>ta(e)&&sa(e)},{id:11,name:"Emperor",initial:.5,tags:["Emperor"],showSwaps:!0,players:na},{id:12,name:"Emperor Deck Swaps",displayName:"Emperor",initial:0,tags:["Emperor","Deck Swaps"],showSwaps:!0,players:na},{id:13,name:"Range 1",initial:.5,tags:["Range 1"],players:e=>e>4},{id:14,name:"Free for All",initial:.5,tags:["Free for All"],players:sa},{id:15,name:"SYB",initial:.5,tags:["SYB"],showSwaps:!0,players:ea},{id:16,name:"SYB Deck Swaps",displayName:"SYB",initial:.5,tags:["SYB","Deck Swaps"],showSwaps:!0,players:ea},{id:17,name:"Secret Partners",initial:.5,tags:["Secret Partners"],showSwaps:!0,players:ra},{id:18,name:"Secret Partners Deck Swaps",displayName:"Secret Partners",initial:.5,tags:["Secret Partners","Deck Swaps"],showSwaps:!0,players:ra},{id:19,name:"EDH Secret Partners",initial:.5,tags:["EDH","Secret Partners"],showSwaps:!0,players:ra},{id:20,name:"EDH Secret Partners Deck Swaps",displayName:"EDH Secret Partners",initial:0,tags:["EDH","Secret Partners","Deck Swaps"],showSwaps:!0,players:ra},{id:21,name:"EDH Pentacle",initial:.5,tags:["EDH","Pentacle"],showSwaps:!0,players:la},{id:22,name:"EDH Pentacle Deck Swaps",displayName:"EDH Pentacle",initial:0,tags:["EDH","Pentacle","Deck Swaps"],players:la},{id:23,name:"Pentacle",initial:.5,tags:["Pentacle"],showSwaps:!0,players:la},{id:24,name:"Pentacle Deck Swaps",displayName:"Pentacle",initial:.5,tags:["Pentacle","Deck Swaps"],showSwaps:!0,players:la},{id:25,name:"Archenemy",initial:.5,tags:["Archenemy"],players:e=>4===e}];var ia=t(264),oa=t.n(ia),ma=t(265),da=t.n(ma),ha=t(266),ua=t.n(ha),ga=(t(435),t(436),t(191)),pa=t(145);const Ea=ga.a.Handle,ya=e=>{const a=e.value,t=e.dragging,s=e.index,r=Object($e.a)(e,["value","dragging","index"]);return n.a.createElement(pa.a,{prefixCls:"rc-slider-tooltip",overlay:a,visible:t,placement:"top",key:s},n.a.createElement(Ea,Object.assign({value:a},r)))};class ka extends s.Component{constructor(...e){super(...e),this.state={playerCount:5,tags:null,currentFormats:null,activeFormat:null,loadingFormat:!1,swapTriggered:!1},this.componentDidMount=()=>{const e=p.a.get("formats-playerCount")||p.a.set("formats-playerCount",5),a=p.a.get("formats-tags")||p.a.set("formats-tags",this.createTags()),t=p.a.get("formats-current")||p.a.set("formats-current",this.createFormats());this.setState({playerCount:e,tags:a,currentFormats:t})},this.reset=()=>{const e=p.a.set("formats-playerCount",5),a=p.a.set("formats-tags",this.createTags()),t=p.a.set("formats-current",this.createFormats());this.setState({playerCount:e,tags:a,currentFormats:t})},this.rand=(e,a)=>Math.random()*(a-e)+e,this.getRandomFormat=e=>{const a=e.reduce((e,a)=>e+a.weight,0),t=this.rand(0,a);let s=0;return e.find(e=>(s+=e.weight,t<=s))},this.updateFormatValue=(e,a)=>{const t=this.state,s=t.playerCount,n=t.currentFormats;n[s].forEach(t=>{t.name===e.name&&(e.weight=a/100)});const r=p.a.set("formats-current",n);this.setState({currentFormats:r})},this.triggerSwap=()=>{this.setState({swapTriggered:!0})},this.toggleTag=e=>{const a=this.state.tags;a.forEach(a=>{a.name===e.name&&(a.enabled=!a.enabled)});const t=p.a.set("formats-tags",a);this.setState({tags:t})}}pickFormat(){console.log("Generate Format"),this.setState({loadingFormat:!0,swapTriggered:!1});const e=this.activeFormats(),a=this.getRandomFormat(e);console.log("picked item",a),setTimeout(()=>{this.setState({loadingFormat:!1,activeFormat:a})},1e3)}incrementCount(){const e=this.state.playerCount,a=p.a.set("formats-playerCount",Math.min(e+1,9));this.setState({playerCount:a,activeFormat:null})}decrementCount(){const e=this.state.playerCount,a=p.a.set("formats-playerCount",Math.max(e-1,2));this.setState({playerCount:a,activeFormat:null})}render(){const e=this.state,a=e.playerCount,t=e.activeFormat,s=e.loadingFormat,r=e.swapTriggered,l=!s&&!r&&t&&t.showSwaps&&this.enabledTags().includes("Deck Swaps");return n.a.createElement("div",{className:"formats"},n.a.createElement(Qe,null),n.a.createElement("div",{className:"my-4 noselect"},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,a," Players"),n.a.createElement(T.a,{className:"my-4"},n.a.createElement(v.a,{disabled:a<=1,onClick:()=>this.decrementCount(),variant:"secondary"},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),n.a.createElement(v.a,{onClick:()=>this.incrementCount(),variant:"secondary"},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"}))),n.a.createElement("div",{className:"text-center mb-5"},n.a.createElement(v.a,{block:!0,variant:"danger",onClick:()=>this.pickFormat(),disabled:s},s?"Computing...":"Which Format?"),s?n.a.createElement(Le.a,{size:"lg",animation:"border",variant:"primary",className:"mt-3 mb-2"},n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("h1",{className:"my-2"},this.renderActiveFormatName()),l&&n.a.createElement(v.a,{onClick:this.triggerSwap,block:!0,className:"w-50 mx-auto",variant:"success"},"Deckswaps?")))),n.a.createElement("hr",{className:"border-info"}),n.a.createElement("div",{className:"mb-5"},this.renderFormatToggles()),n.a.createElement("div",{className:"mb-5 noselect"},this.renderActiveFormats()),n.a.createElement("div",{className:"my-3"},n.a.createElement(v.a,{variant:"danger",onClick:this.reset,block:!0},"Reset")))}renderActiveFormatName(){const e=this.state,a=e.activeFormat,t=e.swapTriggered;return a?t?a.name:a.displayName||a.name:"None"}createFormats(){let e={};for(let a=2;a<=9;a++)e[a]=oa()(ca.filter(e=>e.players&&e.players(a))),e[a].forEach(e=>e.weight=e.initial);return e}activeTags(){const e=this.state,a=e.currentFormats,t=e.playerCount;return a?ua()(da()(a[t],e=>e.tags)).sort():[]}createTags(){return Ze.map(e=>({name:e.name,enabled:e.defaultEnabled}))}renderFormatToggles(){const e=this.state.tags;if(e){const a=this.activeTags(),t=e.filter(e=>a.includes(e.name)).map((e,a)=>n.a.createElement("div",{className:"col-6 col-md-4 col-lg-3 mb-1",key:a},n.a.createElement(v.a,{size:"sm",block:!0,onClick:()=>{this.toggleTag(e)},variant:e.enabled?"info":"secondary"},n.a.createElement("div",{className:"float-left"},e.enabled?n.a.createElement("i",{className:"ms ms-dfc ms-dfc-day text-light"}):n.a.createElement("i",{className:"ms ms-dfc ms-dfc-night text-dark"})),n.a.createElement("div",{className:"d-inline"},e.name))));return n.a.createElement("div",{className:"row"},t)}}enabledTags(){const e=this.state.tags;return e?e.filter(e=>e.enabled).map(e=>e.name):[]}activeFormats(){const e=this.state,a=e.tags,t=e.currentFormats,s=e.playerCount;let n=null;if(console.log(" Player",s),console.log("format",t),a&&t&&s){n=t[s];const e=this.enabledTags();console.log("enabledTags",e),n=n.filter(a=>a.tags.every(a=>e.includes(a))),console.log("Formats",n)}return n}renderActiveFormats(){const e=this.state.playerCount,a=this.activeFormats();if(a){return a.map(a=>n.a.createElement("div",{className:"row mb-2",key:"".concat(e,"-").concat(a.id,"-").concat(100*a.weight)},n.a.createElement("div",{className:"col-5"},a.name),n.a.createElement("div",{className:"col-7"},n.a.createElement(ga.a,{min:0,max:100,marks:{25:"25",50:"50",75:"75"},defaultValue:100*a.weight,included:!0,handle:ya,onAfterChange:e=>{this.updateFormatValue(a,e)}}))))}}}const fa={branch:"main",tags:[],commit:{shortHash:"fa360e6",hash:"fa360e6a69ccb51761f63ffaef38eb904af22570",date:"2020-07-26T17:39:30-04:00",message:"two player formats"}};class va extends s.Component{constructor(...e){super(...e),this.state={isOpen:!1,disclaimerDismissed:!1,displayText:!1,displayImages:!1,devTools:!1,displayGatherer:!1},this.toggle=()=>{this.setState({isOpen:!this.state.isOpen})},this.componentDidMount=()=>{this.versionCheck(),this.setState({disclaimerDismissed:k("disclaimerDismissed"),displayText:k("displayText"),displayImages:k("displayImages"),devTools:k("devTools")})},this.versionCheck=()=>{k("version")!==fa.commit.shortHash&&p.a.clearAll(),f("version",fa.commit.shortHash)},this.dismissDisclaimer=()=>{this.setState({disclaimerDismissed:f("disclaimerDismissed",!0)})},this._toggleSetting=e=>{const a={};a[e]=(e=>{const a=k(e);return f(e,!a)})(e),this.setState(a)},this._mtgToggler=(e,a,t)=>n.a.createElement(m.a.Item,{onClick:t},n.a.createElement(Te,{enabled:e}),n.a.createElement("span",{className:"ml-3"},a)),this.closeNavbar=()=>{this.state.isOpen&&this.setState({isOpen:!1})}}render(){const e=this.state,a=e.disclaimerDismissed,t=e.displayText,s=e.displayImages,r=e.displayGatherer,l=e.devTools;return n.a.createElement(i.a,null,n.a.createElement(c.b,null,n.a.createElement(c.a,{titleTemplate:"%s - Jibbermaster"}),n.a.createElement(d.a,{variant:"dark",expand:"md",className:"text-right p-1 noselect",expanded:this.state.isOpen},n.a.createElement(d.a.Brand,null),n.a.createElement(d.a.Toggle,{onClick:this.toggle}),n.a.createElement(d.a.Collapse,null,n.a.createElement(h.a,{className:"ml-auto",navbar:!0},n.a.createElement(h.a.Item,null,n.a.createElement(h.a.Link,{as:i.b,exact:!0,to:"/",activeClassName:"active",onClick:this.closeNavbar},"Home")),n.a.createElement(h.a.Item,null,n.a.createElement(h.a.Link,{as:i.b,exact:!0,to:"/planechase",activeClassName:"active",onClick:this.closeNavbar},"Planechase")),n.a.createElement(h.a.Item,null,n.a.createElement(h.a.Link,{as:i.b,exact:!0,to:"/archenemy",activeClassName:"active",onClick:this.closeNavbar},"Archenemy")),n.a.createElement(h.a.Item,null,n.a.createElement(h.a.Link,{as:i.b,exact:!0,to:"/syb",activeClassName:"active",onClick:this.closeNavbar},"SYB")),n.a.createElement(h.a.Item,null,n.a.createElement(h.a.Link,{as:i.b,exact:!0,to:"/formats",activeClassName:"active",onClick:this.closeNavbar},"Formats")),n.a.createElement(m.a,{navbar:!0,onToggle:e=>!e&&this.closeNavbar()},n.a.createElement(m.a.Toggle,{as:h.a.Link},"Settings"),n.a.createElement(m.a.Menu,{alignRight:!0},this._mtgToggler(a,"Disclaimer Dismissed",()=>this._toggleSetting("disclaimerDismissed")),this._mtgToggler(t,"Display Text",()=>this._toggleSetting("displayText")),this._mtgToggler(s,"Display Images",()=>this._toggleSetting("displayImages")),this._mtgToggler(r,"Display Gatherer",()=>this._toggleSetting("displayGatherer")),this._mtgToggler(l,"Dev Tools",()=>this._toggleSetting("devTools")),n.a.createElement(m.a.Divider,null),n.a.createElement(m.a.Item,{onClick:()=>p.a.clearAll()},"Clear Everything"),this.state.devTools&&n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a.Divider,null),n.a.createElement(m.a.Item,{disabled:!0},"Version ",k("version")))))))),n.a.createElement("div",{className:"app text-light bg-dark col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-6 offset-xl-3"},n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",exact:!0,render:e=>n.a.createElement(b,e)}),n.a.createElement(o.a,{path:"/archenemy",exact:!0,render:e=>n.a.createElement(ze,e)}),n.a.createElement(o.a,{path:"/planechase",exact:!0,render:e=>n.a.createElement(_e,e)}),n.a.createElement(o.a,{path:"/syb",exact:!0,render:e=>n.a.createElement(Xe,e)}),n.a.createElement(o.a,{path:"/formats",exact:!0,render:e=>n.a.createElement(ka,e)})),n.a.createElement(u.a,{variant:"warning",className:"fixed-bottom mb-0 py-1",show:!this.state.disclaimerDismissed,onClose:this.dismissDisclaimer,dismissible:!0},n.a.createElement("h6",null,"Disclaimer"),n.a.createElement("small",{className:"text-muted m-0"},"This site is created for personal use. Magic: The Gathering, the mana symbols, the tap symbol and all other related images are owned by Wizards of the Coast. jibbermaster.com is unaffiliated with Wizards of the Coast.")))))}}var ba=va;const Ca=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Sa(e,a){const t=(null===a||void 0===a?void 0:a.registerConfig)||{};navigator.serviceWorker.register(e,t).then(e=>{e.onupdatefound=()=>{const t=e.installing;null!=t&&(t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}l.a.render(n.a.createElement(ba,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const a="".concat("","/service-worker.js");Ca?(!function(e,a){fetch(e).then(t=>{const s=t.headers.get("content-type");404===t.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Sa(e,a)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Sa(a,e)})}}({registerConfig:{scope:"/planechase"}})}},[[271,1,2]]]);
//# sourceMappingURL=main.8fa66b6f.chunk.js.map