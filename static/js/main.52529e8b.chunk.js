(this.webpackJsonpmagic=this.webpackJsonpmagic||[]).push([[0],{127:function(e,a,t){},177:function(e,a,t){e.exports=t.p+"static/media/planechase-back.c7f50007.jpg"},178:function(e,a,t){e.exports=t.p+"static/media/archenemy-back.2c00b5d4.jpg"},186:function(e,a,t){e.exports=t(401)},191:function(e,a,t){},204:function(e,a,t){},401:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),r=t(10),l=t.n(r),c=(t(191),t(22)),i=t(24),o=t(15),m=t(422),d=t(423),h=t(424),g=t(425),p=t(179),u=t(426),E=t(427),y=t(428),k=t(432),f=t(429),C=t(430),S=t(416),b=t(6),w=t.n(b),D=(t(204),t(171)),N=t.n(D);w.a.addPlugin(N.a);w.a.defaults({"setting-disclaimerDismissed":!1,"setting-displayText":!1,"setting-displayImages":!0,"setting-devTools":!1,"setting-displayGatherer":!1});const v=e=>w.a.get("setting-".concat(e)),x=(e,a)=>w.a.set("setting-".concat(e),a);var _=t(172);class F extends s.Component{constructor(...e){super(...e),this.componentDidMount=()=>{}}render(){return n.a.createElement("div",{className:"home"},n.a.createElement(c.a,{title:"Magic"},n.a.createElement("link",{rel:"manifest",href:"/manifest.json"})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(_.a,{tag:i.b,exact:!0,to:"/planechase",block:!0,color:"info",size:"lg"},n.a.createElement("i",{className:"ms ms-planeswalker ms-4x mx-2 d-block"}),n.a.createElement("span",{className:"d-block"},"Planechase")),n.a.createElement(_.a,{tag:i.b,exact:!0,to:"/archenemy",block:!0,color:"danger",size:"lg"},n.a.createElement("i",{className:"ss ss-arc ss-3x mx-2 d-block"}),n.a.createElement("span",{className:"d-block"},"Archenemy")),n.a.createElement(_.a,{tag:i.b,exact:!0,to:"/syb",block:!0,color:"success",size:"lg"},n.a.createElement("i",{className:"ss ss-s00 ss-3x mx-2 d-block"}),n.a.createElement("span",{className:"d-block"},"SYB")),n.a.createElement(_.a,{tag:i.b,exact:!0,to:"/formats",block:!0,color:"primary",size:"lg"},n.a.createElement("i",{className:"ss ss-evg ss-3x mx-2 d-block"}),n.a.createElement("span",{className:"d-block"},"Formats"))))}}var M=t(16),T=t.n(M),O=t(29),A=t(30),H=t(412),P=t(402),I=t(413),B=t(414),Y=t(431),z=t(415),j=t(403),R=t(417);const G=e=>w.a.get("".concat(e,"-currentCard")),W=(e,a)=>w.a.set("".concat(e,"-currentCard"),a),U=(e,a)=>w.a.set("".concat(e,"-revealedCards"),a),L=e=>w.a.get("".concat(e,"-additionalCards")),J=(e,a)=>w.a.set("".concat(e,"-additionalCards"),a),q=e=>w.a.get("".concat(e,"-scryCards")),V=(e,a)=>w.a.set("".concat(e,"-scryCards"),a),K=(e,a)=>a&&a.customProperties.find(a=>a.name===e),X=e=>"http://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=".concat(e.multiverse_ids[0],"&type=card"),$=({planes:e})=>n.a.createElement(c.a,{title:"Planechase"},n.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/planechase.ico"}),n.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/planechase_256.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/planechase_64.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/planechase_128.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/planechase_256.png"}),n.a.createElement("link",{rel:"manifest",href:"/planechase-manifest.json"}),e&&e.map(e=>n.a.createElement("link",{rel:"preload",href:X(e),as:"image",key:e.id})));var Q=t(175),Z=t.n(Q);const ee=(e,a,t)=>{const s=te(e);s.splice(t,0,s.splice(a,1)[0]),se(e,s)},ae=(e,a,t=!1)=>{let s=te(e);if(!s||t){console.log("Creating New ".concat(e," Deck"));const t=JSON.parse(JSON.stringify(a));t.forEach(e=>e.deck_card_id=Z()()),s=ue(t),w.a.set("".concat(e,"-history"),[]),se(e,s)}return s},te=e=>w.a.get("".concat(e,"-deck")),se=(e,a)=>w.a.set("".concat(e,"-deck"),a),ne=e=>{const a=te(e),t=a.shift();return t&&re(e,t),se(e,a),t},re=(e,a)=>{const t=w.a.get("".concat(e,"-history"));t.push(a),w.a.set("".concat(e,"-history"),t)},le=(e,a)=>w.a.get("".concat(e,"-history")),ce=e=>{const a=w.a.get("".concat(e,"-history")),t=a.pop();return t&&ie(e,[t]),w.a.set("".concat(e,"-history"),a),a[a.length-1]},ie=(e,a)=>{const t=te(e);se(e,a.concat(t))},oe=(e,a)=>{const t=te(e);se(e,t.concat(a))},me=(e,a)=>te(e).find(e=>e.deck_card_id===a),de=(e,a)=>{const t=me(e,a);t&&(ge(e,[t]),ie(e,[t]))},he=(e,a)=>{const t=me(e,a);t&&(ge(e,[t]),oe(e,[t]))},ge=(e,a)=>{const t=te(e).filter(e=>!a.find(a=>a.deck_card_id===e.deck_card_id));se(e,t)},pe=(e,a,t=!1)=>{const s=[],n=te(e),r=Math.min(n.length,a);let l=0,c=r;for(let i=0;i<c;i++)s.push(n[i]),t&&(n[i].type_line.search("Plane")>=0&&l++,i===c-1&&l<r&&c++);return s},ue=e=>{let a,t,s=e.length;for(;0!==s;)t=Math.floor(Math.random()*s),s-=1,a=e[s],e[s]=e[t],e[t]=a;return e};var Ee=t(176),ye=t.n(Ee),ke=t(76),fe=t.n(ke);const Ce=ye.a.create(),Se=function(){var e=Object(O.a)(T.a.mark((function e(){var a,t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=De("planes")){e.next=12;break}return console.log("Loading from Axios"),e.next=6,Ce.get("https://api.scryfall.com/cards/search?include_extras=1&q=t%3Aplane+or+t%3Aphenomenon&unique=cards");case 6:t=e.sent,Ne("planes",a=(a=t.data.data).map(e=>we(e))),e.next=13;break;case 12:console.log("Loaded from store");case 13:return e.abrupt("return",a);case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(O.a)(T.a.mark((function e(){var a,t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=De("schemes")){e.next=12;break}return console.log("Loading from Axios"),e.next=6,Ce.get("https://api.scryfall.com/cards/search?include_extras=1&q=t%3Ascheme&unique=cards");case 6:t=e.sent,Ne("schemes",a=(a=t.data.data).map(e=>we(e))),e.next=13;break;case 12:console.log("Loaded from store");case 13:return e.abrupt("return",a);case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function we(e){const a={Aretopolis:[{name:"counter",type:"Scroll"}],"Chaotic Aether":[{name:"all-chaos"}],"Interplanar Tunnel":[{name:"top-5"}],"Kilnspire District":[{name:"counter",type:"Charge"}],"Mount Keralia":[{name:"counter",type:"Pressure"}],"Naar Isle":[{name:"counter",type:"Flame"}],"Spatial Merging":[{name:"two-planes"}],"Stairs to Infinity":[{name:"chaos-trigger"},{name:"scry-1"}],"Pools of Becoming":[{name:"chaos-trigger"},{name:"triple-chaos"}],"Your Inescapable Doom":[{name:"unabandonable"},{name:"counter",type:"Doom"}]};return a[e.name]?e.customProperties=a[e.name]:e.customProperties=[],e.oracle_html={__html:e.oracle_text.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />").replace(/{CHAOS}/g,'<i class="ms ms-chaos"></i>').replace(/CHAOS/g,'<i class="ms ms-chaos"></i>').replace(/{W}/g,'<i class="ms ms-w ms-cost"></i>').replace(/{U}/g,'<i class="ms ms-u ms-cost"></i>').replace(/{B}/g,'<i class="ms ms-b ms-cost"></i>').replace(/{R}/g,'<i class="ms ms-r ms-cost"></i>').replace(/{G}/g,'<i class="ms ms-g ms-cost"></i>').replace(/\{1\}/g,'<i class="ms ms-1 ms-cost"></i>').replace(/\{2\}/g,'<i class="ms ms-2 ms-cost"></i>').replace(/\{3\}/g,'<i class="ms ms-3 ms-cost"></i>').replace(/\{T\}/g,'<i class="ms ms-tap"></i>').replace(/{X}/g,'<i class="ms ms-x ms-cost"></i>').replace(/X/g,'<i class="ms ms-x"></i>').replace(/\((.*)\)/g,"<small><em>($1)</em></small>")},e}function De(e){let a=w.a.get(e),t=w.a.get("".concat(e,"-fetched"));return!a||(s=t)&&fe()().diff(fe.a.unix(s),"days")>5?null:a;var s}function Ne(e,a){w.a.set(e,a),w.a.set("".concat(e,"-fetched"),fe()().unix())}class ve extends s.Component{constructor(e){super(e),this.state={dotsCount:e.start||0}}componentDidMount(){const e=this.props.interval,a=void 0===e?500:e;this.dotsInterval=setInterval(()=>{this.setState({dotsCount:this.state.dotsCount+1})},a)}componentWillUnmount(){clearInterval(this.dotsInterval)}getDotString(e,a,t="."){let s=e%(a+1),n="";for(let r=0;r<s;r++)n+=t;return n}render(){const e=this.props,a=e.label,t=void 0===a?"Loading":a,s=e.className,r=e.numDots,l=void 0===r?3:r,c=this.state.dotsCount;let i=this.getDotString(c,l,"."),o="loading-dots ".concat(s);return n.a.createElement("span",{className:o},t,i)}}var xe=t(404),_e=t(405),Fe=t(406),Me=t(407),Te=t(408),Oe=t(409),Ae=t(410),He=t(411),Pe=t(177),Ie=t.n(Pe);class Be extends s.Component{constructor(...e){super(...e),this.state={counter:0},this.incrementCounter=()=>{const e=this.state.counter;this.setState({counter:e+1})}}render(){const e=this.props.card,a=this.state.counter,t=(e=>e.customProperties.find(e=>"counter"===e.name).type)(e);return n.a.createElement("div",null,n.a.createElement("h1",{className:"text-shadow noselect"},a),n.a.createElement(_.a,{onClick:this.incrementCounter,color:"dark",size:"lg",className:"btn-translucent"},n.a.createElement("h3",{className:"mb-0"},"Add ",t," Counter")))}}t(127);class Ye extends s.Component{constructor(...e){super(...e),this.state={modalOpen:!1},this.toggleModal=()=>{console.log("Toggle Modal"),this.setState({modalOpen:!this.state.modalOpen})}}render(){const e=this.props,a=e.listDisplay,t=e.card,s=e.children;return a?n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{color:"dark",onClick:this.toggleModal},n.a.createElement("div",null,t.name)),n.a.createElement(Y.a,{isOpen:this.state.modalOpen,toggle:this.toggleModal,size:"md",backdrop:!0,contentClassName:"bg-secondary"},n.a.createElement(j.a,{className:"p-0",centered:"true"},n.a.createElement(Ye,{card:t}),s))):n.a.createElement(xe.a,{inverse:!0,className:"mtg-plane-card"},this.renderImage(),this.renderCounter(),this.renderChildren(),this.renderBody(),this.renderActions())}renderBody(){const e=this.renderText();return e&&n.a.createElement(_e.a,null,e)}renderCounter(){const e=this.props,a=e.card,t=e.renderActions,s=v("displayImages"),r=K("counter",a);if(t&&r)return s?n.a.createElement(Fe.a,{className:"text-center plane-overlay counter-overlay"},n.a.createElement(Me.a,{className:"text-center"},n.a.createElement(Be,{card:a}))):n.a.createElement(_e.a,{className:"text-center pb-0"},n.a.createElement(Be,{card:a}))}renderChildren(){const e=this.props.children,a=v("displayImages");if(e)return a?n.a.createElement(Fe.a,{className:"text-center plane-overlay child-overlay"},n.a.createElement(Me.a,{className:"text-center"},e)):n.a.createElement(_e.a,{className:"text-center pb-0"},e)}renderActions(){const e=this.props.card;if(v("displayGatherer")&&e)return n.a.createElement(Te.a,null,n.a.createElement("a",{href:e.related_uris.gatherer,target:"_blank",rel:"noopener noreferrer"},"Gatherer"))}renderText(){const e=this.props.card;if(v("displayText"))return e?n.a.createElement(n.a.Fragment,null,n.a.createElement(Me.a,null,n.a.createElement("h5",null,e.name)),n.a.createElement(Oe.a,null,e.type_line),n.a.createElement(Ae.a,{dangerouslySetInnerHTML:e.oracle_html})):n.a.createElement(Me.a,null,"None")}renderImage(){if(v("displayImages"))return n.a.createElement(He.a,{top:!0,width:"100%",src:this.imageURI(),className:"mtg-card mtg-card-plane"})}imageURI(){const e=this.props.card;return e?X(e):Ie.a}}class ze extends s.Component{constructor(...e){var a;super(...e),a=this,this.state={loading:!1,planes:[],deck:null,currentCard:null,revealedCards:[],additionalCards:[],scryCards:[],tripleChaosModalOpen:!1,scryModalOpen:!1,planeswalkDisabled:!1,showHistory:!1,showDeck:!1,showDeckImages:!1},this.componentDidMount=Object(O.a)(T.a.mark((function e(){var t,s,n,r,l,c,i,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se();case 2:t=e.sent,s=ae("planechase",t),n=G("planechase"),m="planechase",r=w.a.get("".concat(m,"-revealedCards"))||[],l=q("planechase")||[],c=L("planechase"),i=!!K("top-5",n),o=l.length>0&&!!K("scry-1",n),a.setState({planes:t,loading:!1,deck:s,currentCard:n,revealedCards:r,additionalCards:c,scryCards:l,planeswalkDisabled:i,scryModalOpen:o});case 11:case"end":return e.stop()}var m}),e)}))),this.refreshDeck=()=>{const e=te("planechase");this.setState({deck:e})},this.planeswalk=()=>{const e=ne("planechase");W("planechase",e);let a=[],t=[];if(K("two-planes",e)){a=pe("planechase",2,!0),ge("planechase",a);const e=a.filter(e=>e.type_line.search("Plane")>=0),s=a.filter(e=>e.type_line.search("Phenomenon")>=0);e.forEach(e=>re("planechase",e)),oe("planechase",s),a=[],t=e}K("top-5",e)&&(a=pe("planechase",5,!0),ge("planechase",a),this.setState({planeswalkDisabled:!0})),U("planechase",a),J("planechase",t),this.refreshDeck(),this.setState({currentCard:e,revealedCards:a,additionalCards:t})},this.reset=Object(O.a)(T.a.mark((function e(){var t,s,n,r,l,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,Se();case 3:t=e.sent,s=ae("planechase",t,!0),n=W("planechase",null),r=U("planechase",[]),l=V("planechase",[]),c=J("planechase",[]),a.setState({planes:t,loading:!1,deck:s,currentCard:n,revealedCards:r,scryCards:l,additionalCards:c,planeswalkDisabled:!1,scryModalOpen:!1});case 10:case"end":return e.stop()}}),e)}))),this.undo=Object(O.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ce("planechase"),a.refreshDeck(),a.setState({currentCard:t});case 3:case"end":return e.stop()}}),e)}))),this.triggerChaos=e=>{const a=this.state.scryCards;if(console.log("Chaos Triggered"),K("triple-chaos",e)){const e=pe("planechase",3,!0);ge("planechase",e);const a=ue(e.slice());oe("planechase",a),this.refreshDeck(),U("planechase",e),this.setState({revealedCards:e,tripleChaosModalOpen:!0})}if(K("scry-1",e)){if(!a||0===a.length){const e=pe("planechase",1,!1);ge("planechase",e),V("planechase",e),this.setState({scryCards:e})}this.setState({scryModalOpen:!0})}},this.renderDevTools=()=>{if(v("devTools"))return n.a.createElement("div",{className:"my-4"},n.a.createElement("h5",{className:"text-center noselect"},"Dev Tools"),n.a.createElement(_.a,{onClick:this.undo,color:"warning",block:!0},"Undo"),this.renderDeck())},this.toggleDeck=()=>{this.setState({showDeck:!this.state.showDeck})},this.toggleDeckImages=()=>{this.setState({showDeckImages:!this.state.showDeckImages})},this.manipulateDeck=()=>{this.refreshDeck()},this.renderDeck=()=>{const e=this.state,a=e.deck,t=e.showDeck,s=e.showDeckImages;return n.a.createElement("div",{className:"my-2"},n.a.createElement(_.a,{onClick:this.toggleDeck,block:!0},t?"Hide":"Show"," Deck"),n.a.createElement(A.a,{in:t},t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{onClick:this.toggleDeckImages,block:!0},s?"Hide":"Show"," Full Card"),n.a.createElement(H.a,null,a.map((e,t)=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(Ye,{card:e,listDisplay:!s}),n.a.createElement(P.a,{className:"text-center justify-content-center d-flex"},n.a.createElement(I.a,null,n.a.createElement(B.a,null,n.a.createElement(_.a,{disabled:0===t,onClick:()=>this.manipulateDeck(ee("planechase",t,t-1))},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"})),n.a.createElement(_.a,{disabled:t===a.length-1,onClick:()=>this.manipulateDeck(ee("planechase",t,t+1))},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"}))),n.a.createElement(B.a,{className:"ml-2"},n.a.createElement(_.a,{disabled:0===t,onClick:()=>this.manipulateDeck(de("planechase",e.deck_card_id))},n.a.createElement("i",{className:"ms ms-untap ms-2x ss-mythic ss-grad"})),n.a.createElement(_.a,{disabled:t===a.length-1,onClick:()=>this.manipulateDeck(he("planechase",e.deck_card_id))},n.a.createElement("i",{className:"ms ms-tap ms-2x ss-mythic ss-grad"}))),n.a.createElement(B.a,{className:"ml-2"},n.a.createElement(_.a,{color:"danger",onClick:()=>this.manipulateDeck(ge("planechase",[e]))},n.a.createElement("i",{className:"ss ss-x ss-10e ss-rare ss-grad ss-2x"})))))))))))},this.toggleHistory=()=>{this.setState({showHistory:!this.state.showHistory})},this.renderHistory=()=>{const e=this.state.showHistory,a=le("planechase");return n.a.createElement("div",{className:"my-2"},n.a.createElement(_.a,{onClick:this.toggleHistory,block:!0},e?"Hide":"Show"," History"),n.a.createElement(A.a,{in:e},e&&a&&n.a.createElement(H.a,null,a.reverse().map(e=>n.a.createElement(Ye,{card:e,key:e.deck_card_id,listDisplay:!0})))))},this.selectPlane=e=>{const a=this.state.revealedCards;ge("planechase",a),ie("planechase",[e]);const t=a.filter(a=>a.deck_card_id!==e.deck_card_id),s=ue(t.slice());oe("planechase",s),U("planechase",[]),this.setState({planeswalkDisabled:!1,revealedCards:[]}),this.planeswalk()},this._tripleChaosModalClose=()=>{U("planechase",[]),this.setState({tripleChaosModalOpen:!1,revealedCards:[]})},this._tripleChaosModalToggle=()=>{this.state.tripleChaosModalOpen&&this._tripleChaosModalClose()},this._scryModalClose=()=>{V("planechase",[]),this.setState({scryModalOpen:!1,scryCards:[]})},this._scryTop=()=>{const e=this.state.scryCards;ie("planechase",e),console.log("Scry Top",e),this.refreshDeck(),V("planechase",[]),this.setState({scryCards:[],scryModalOpen:!1})},this._scryBottom=()=>{const e=this.state.scryCards;oe("planechase",e),console.log("Scry Bottom",e),this.refreshDeck(),V("planechase",[]),this.setState({scryCards:[],scryModalOpen:!1})},this.renderScryModal=()=>{const e=this.state,a=e.scryCards,t=e.scryModalOpen;if(a&&t)return n.a.createElement(Y.a,{isOpen:!!t,size:"md",contentClassName:"bg-secondary"},n.a.createElement(z.a,{className:"justify-content-center text-white"},n.a.createElement("i",{className:"ms ms-chaos mx-4"}),"Scry Card",n.a.createElement("i",{className:"ms ms-chaos mx-4"})),n.a.createElement(j.a,null,n.a.createElement(_.a,{color:"info",block:!0,onClick:this._scryTop},"Top"),a.map(e=>n.a.createElement(Ye,{card:e,key:e.deck_card_id})),n.a.createElement(_.a,{color:"info",block:!0,onClick:this._scryBottom},"Bottom")))}}render(){const e=this.state,a=e.loading,t=e.planes,s=e.deck,r=e.currentCard,l=e.planeswalkDisabled;return n.a.createElement("div",{className:"planechase"},n.a.createElement($,{planes:t}),n.a.createElement("div",{className:"fixed-top mt-1 ml-1 w-25 text-left"},n.a.createElement(_.a,{onClick:this.planeswalk,className:"mb-2",color:"success",disabled:l||a,block:!0},n.a.createElement("i",{className:"ms ms-planeswalker ms-2x mx-2"}),n.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Planeswalk"))),a?n.a.createElement(ve,{className:"text-muted"}):n.a.createElement("div",{className:"mb-2"},r?n.a.createElement(A.a,{key:r.deck_card_id,timeout:100},n.a.createElement(Ye,{card:r,renderActions:"true"},this.renderChaos(r))):n.a.createElement(Ye,null)),this.renderTwoPlanes(),this.renderFivePlanes(),this.renderTripleChaosModal(),this.renderScryModal(),this.renderHistory(),n.a.createElement("p",{className:"text-center my-3 noselect"},"There are ",s?s.length:0," cards remaining."),n.a.createElement(_.a,{onClick:this.reset,color:"danger",block:!0},"Reset"),this.renderDevTools())}renderChaos(e){if(K("chaos-trigger",e))return n.a.createElement(_.a,{onClick:()=>this.triggerChaos(e),color:"info",size:"lg",className:"btn-translucent"},n.a.createElement("i",{className:"ms ms-chaos ms-2x mx-2"}),n.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Trigger Chaos"))}renderTwoPlanes(){const e=this.state,a=e.currentCard,t=e.additionalCards;if(K("two-planes",a)){const e=t.filter(e=>e.type_line.search("Plane")>=0);return n.a.createElement("div",null,n.a.createElement(S.a,{color:"info",className:"text-center mb-0"},n.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),"You Are On Both Planes",n.a.createElement("i",{className:"ms ms-planeswalker mx-2"})),e.map(e=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(Ye,{card:e,renderActions:"true"},this.renderChaos(e)))))}}renderFivePlanes(){const e=this.state,a=e.currentCard,t=e.revealedCards;if(K("top-5",a)){console.log(t);const e=t.filter(e=>e.type_line.search("Plane")>=0);return console.log(e),n.a.createElement("div",null,n.a.createElement(S.a,{color:"info",className:"text-center mb-0"},n.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),"Pick a Plane to Planeswalk To",n.a.createElement("i",{className:"ms ms-planeswalker mx-2"})),e.map(e=>n.a.createElement("div",{key:e.deck_card_id},n.a.createElement(Ye,{card:e},n.a.createElement(_.a,{onClick:()=>this.selectPlane(e),color:"primary",className:"btn-translucent",size:"lg"},n.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),n.a.createElement("span",{className:"mx-2"},"Planeswalk"))))))}}renderTripleChaosModal(){const e=this.state,a=e.revealedCards,t=e.tripleChaosModalOpen;if(a&&t){const e=a.filter(e=>e.type_line.search("Plane")>=0);return n.a.createElement(Y.a,{isOpen:!!t,toggle:this._tripleChaosModalToggle,onClosed:this._tripleChaosModalClose,size:"md",backdrop:!0,contentClassName:"bg-secondary"},n.a.createElement(z.a,{className:"justify-content-center text-center text-white"},n.a.createElement("div",null,n.a.createElement("i",{className:"ms ms-chaos mr-1"}),n.a.createElement("i",{className:"ms ms-chaos mr-1"}),n.a.createElement("i",{className:"ms ms-chaos mr-1"}),n.a.createElement("span",{className:"mx-1"},"Triple Chaos"),n.a.createElement("i",{className:"ms ms-chaos ml-1"}),n.a.createElement("i",{className:"ms ms-chaos ml-1"}),n.a.createElement("i",{className:"ms ms-chaos ml-1"})),n.a.createElement("div",null,n.a.createElement("small",{className:"text-center"},"You Pick Order"))),n.a.createElement(j.a,{className:"text-center"},e.map(e=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(Ye,{card:e},this.renderChaos(e))))),n.a.createElement(R.a,null,n.a.createElement(_.a,{color:"info",block:!0,"aria-label":"Close",onClick:this._tripleChaosModalClose},"Done")))}}}var je=t(418),Re=t(419),Ge=t(420);const We=({schemes:e})=>n.a.createElement(c.a,{title:"Archenemy"},n.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/archenemy.ico"}),n.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/archenemy_256.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/archenemy_64.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/archenemy_128.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/archenemy_256.png"}),n.a.createElement("link",{rel:"manifest",href:"/archenemy-manifest.json"}),e&&e.map(e=>n.a.createElement("link",{rel:"preload",href:e.image_uris.large,as:"image",key:e.id}))),Ue=[{name:"Assemble the Doomsday Machine",cards:[["All in Good Time",1],["Behold the Power of Destruction",1],["Embrace My Diabolical Vision",1],["Feed the Machine",2],["I Delight in Your Convulsions",1],["I Know All, I See All",2],["Ignite the Cloneforge!",2],["Introductions Are in Order",1],["The Iron Guardian Stirs",2],["My Genius Knows No Bounds",1],["Nothing Can Stop Me Now",1],["The Pieces Are Coming Together",2],["Realms Befitting My Majesty",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Scorch the World with Dragonfire",cards:[["All Shall Smolder in My Wake",2],["Approach My Molten Realm",1],["The Fate of the Flammable",1],["I Bask in Your Silent Awe",2],["I Delight in Your Convulsions",1],["Introductions Are in Order",1],["Know Naught but Fire",1],["Look Skyward and Despair",2],["My Crushing Masterstroke",1],["My Wish Is Your Command",2],["Realms Befitting My Majesty",1],["Tooth, Claw, and Tail",1],["Which of You Burns Brightest?",2],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Trample Civilization Underfoot",cards:[["Every Last Vestige Shall Rot",2],["Evil Comes to Fruition",1],["I Call on the Ancient Magics",1],["I Delight in Your Convulsions",1],["Into the Earthen Maw",1],["Introductions Are in Order",1],["May Civilization Collapse",1],["Nature Demands an Offering",2],["Nature Shields Its Own",2],["Realms Befitting My Majesty",1],["Roots of All Evil",2],["The Very Soil Shall Shake",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1],["Your Will Is Not Your Own",2]]},{name:"Bring About the Undead Apocalypse",cards:[["Choose Your Champion",2],["Dance, Pathetic Marionette",1],["The Dead Shall Serve",2],["Every Hope Shall Vanish",2],["I Delight in Your Convulsions",2],["Introductions Are in Order",1],["Mortal Flesh Is Weak",1],["My Undead Horde Awakens",1],["Only Blood Ends Your Nightmares",2],["Realms Befitting My Majesty",1],["Rotted Ones, Lay Siege",2],["Surrender Your Thoughts",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Archenemy Nicol Bolas",cards:[["Because I Have Willed It",1],["Behold My Grandeur",1],["Bow to My Command",1],["Choose Your Demise",1],["Delight in the Hunt",1],["Every Dream a Nightmare",1],["For Each of You, a Gift",1],["Know Evil",1],["Make Yourself Useful",1],["The Mighty Will Fall",1],["My Forces Are Innumerable",1],["My Laughter Echoes",1],["No One Will Hear Your Cries",1],["Pay Tribute to Me",1],["Power Without Equal",1],["A Reckoning Approaches",1],["There Is No Refuge",1],["This World Belongs to Me",1],["What's Yours Is Now Mine",1],["When Will You Learn?",1]]}];var Le=t(178),Je=t.n(Le);class qe extends s.Component{constructor(...e){super(...e),this.state={modalOpen:!1},this.toggleModal=()=>{console.log("Toggle Modal"),this.setState({modalOpen:!this.state.modalOpen})}}render(){const e=this.props,a=e.listDisplay,t=e.card,s=e.children;return a?n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{color:"dark",onClick:this.toggleModal},t.name),n.a.createElement(Y.a,{isOpen:this.state.modalOpen,toggle:this.toggleModal,size:"md",backdrop:!0,contentClassName:"bg-secondary"},n.a.createElement(j.a,{className:"p-0",centered:"true"},n.a.createElement(qe,{card:t}),s))):n.a.createElement(xe.a,{inverse:!0,className:"mtg-scheme-card"},this.renderImage(),this.renderCounter(),this.renderChildren(),this.renderBody(),this.renderActions())}renderBody(){const e=this.renderText();return e&&n.a.createElement(_e.a,null,e)}renderCounter(){const e=this.props,a=e.card,t=e.renderActions,s=v("displayImages"),r=K("counter",a);if(t&&r)return s?n.a.createElement(Fe.a,{className:"text-center scheme-overlay counter-overlay"},n.a.createElement(Me.a,{className:"text-center pt-5 mt-sm-5"},n.a.createElement(Be,{card:a}))):n.a.createElement(_e.a,{className:"text-center pb-0"},n.a.createElement(Be,{card:a}))}renderChildren(){const e=this.props.children,a=v("displayImages");if(e)return a?n.a.createElement(Fe.a,{className:"text-center scheme-overlay child-overlay"},n.a.createElement(Me.a,{className:"text-center pt-5 mt-sm-5"},e)):n.a.createElement(_e.a,{className:"text-center pb-0"},e)}renderActions(){const e=this.props.card;if(v("displayGatherer")&&e)return n.a.createElement(Te.a,null,n.a.createElement("a",{href:e.related_uris.gatherer,target:"_blank",rel:"noopener noreferrer"},"Gatherer"))}renderText(){const e=this.props.card;if(v("displayText"))return e?n.a.createElement(n.a.Fragment,null,n.a.createElement(Me.a,null,n.a.createElement("h5",null,e.name)),n.a.createElement(Oe.a,null,e.type_line),n.a.createElement(Ae.a,{dangerouslySetInnerHTML:e.oracle_html})):n.a.createElement(Me.a,null,"None")}renderImage(){if(v("displayImages"))return n.a.createElement(He.a,{top:!0,width:"100%",src:this.imageURI(),className:"mtg-card mtg-card-scheme"})}imageURI(){const e=this.props.card;return e?e.image_uris.large:Je.a}}class Ve extends s.Component{constructor(...e){var a;super(...e),a=this,this.state={loading:!0,deck:null,currentCard:null,ongoingSchemes:[],schemes:[],showHistory:!1,showDeck:!1,showDeckImages:!1,abandonedOngoing:!1,deckSelection:!0,customDeck:null},this.componentDidMount=Object(O.a)(T.a.mark((function e(){var t,s,n,r,l,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:t=e.sent,s=te("archenemy"),n=G("archenemy"),r=L("archenemy")||[],l=!!w.a.get("archenemy-abandonedOngoing"),(c=JSON.parse(JSON.stringify(t))).forEach(e=>e.count=0),a.setState({currentCard:n,deck:s,loading:!1,ongoingSchemes:r,schemes:t,abandonedOngoing:l,deckSelection:!s,customDeck:c});case 10:case"end":return e.stop()}}),e)}))),this.refreshDeck=()=>{const e=te("archenemy");this.setState({deck:e})},this.scheme=()=>{const e=this.state,a=e.currentCard,t=e.ongoingSchemes;a&&"Ongoing Scheme"===a.type_line&&t.push(a);const s=ne("archenemy");W("archenemy",s),J("archenemy",t),this.refreshDeck(),this.setState({currentCard:s,ongoingSchemes:t,abandonedOngoing:w.a.set("archenemy-abandonedOngoing",!1)})},this.reset=Object(O.a)(T.a.mark((function e(){var t,s,n,r,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,be();case 3:t=e.sent,null,se("archenemy",null),s=W("archenemy",null),n=J("archenemy",[]),r=w.a.set("archenemy-abandonedOngoing",!1),(l=JSON.parse(JSON.stringify(t))).forEach(e=>e.count=0),a.setState({schemes:t,loading:!1,deck:null,currentCard:s,ongoingSchemes:n,abandonedOngoing:r,deckSelection:!0,customDeck:l});case 12:case"end":return e.stop()}}),e)}))),this.undo=Object(O.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ce("archenemy"),a.refreshDeck(),a.setState({currentCard:t});case 3:case"end":return e.stop()}}),e)}))),this.renderDevTools=()=>{if(v("devTools"))return n.a.createElement("div",{className:"my-4"},n.a.createElement("h5",{className:"text-center noselect"},"Dev Tools"),n.a.createElement(_.a,{onClick:this.undo,color:"warning",block:!0},"Undo"),this.renderDeck())},this.abandonScheme=e=>{const a=this.state,t=a.ongoingSchemes;if(a.currentCard.deck_card_id===e.deck_card_id){console.log("Abandon Current Scheme",e),W("archenemy",null);const a=w.a.set("archenemy-abandonedOngoing",!0);this.setState({currentCard:null,abandonedOngoing:a})}else{console.log("Abandon Scheme",e);let a=t.filter(a=>a.deck_card_id!==e.deck_card_id);J("archenemy",a),this.setState({ongoingSchemes:a})}},this.toggleHistory=()=>{this.setState({showHistory:!this.state.showHistory})},this.renderHistory=()=>{const e=this.state.showHistory,a=le("archenemy");return n.a.createElement("div",{className:"my-2"},n.a.createElement(_.a,{onClick:this.toggleHistory,block:!0},e?"Hide":"Show"," History"),n.a.createElement(A.a,{in:e},e&&a&&n.a.createElement(H.a,null,a.reverse().map(e=>n.a.createElement(qe,{card:e,key:e.deck_card_id,listDisplay:!0})))))},this.resetCustomDeck=()=>{const e=this.state.customDeck;e.forEach(e=>e.count=0),this.setState({customDeck:e})},this.toggleDeck=()=>{this.setState({showDeck:!this.state.showDeck})},this.toggleDeckImages=()=>{this.setState({showDeckImages:!this.state.showDeckImages})},this.manipulateDeck=()=>{this.refreshDeck()},this.renderDeck=()=>{const e=this.state,a=e.deck,t=e.showDeck,s=e.showDeckImages;return n.a.createElement("div",{className:"my-2"},n.a.createElement(_.a,{onClick:this.toggleDeck,block:!0},t?"Hide":"Show"," Deck"),n.a.createElement(A.a,{in:t},t&&a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{onClick:this.toggleDeckImages,block:!0},s?"Hide":"Show"," Full Card"),n.a.createElement(H.a,null,a.map((e,t)=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(qe,{card:e,listDisplay:!s}),n.a.createElement(P.a,{className:"text-center justify-content-center d-flex"},n.a.createElement(I.a,null,n.a.createElement(B.a,null,n.a.createElement(_.a,{disabled:0===t,onClick:()=>this.manipulateDeck(ee("archenemy",t,t-1))},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"})),n.a.createElement(_.a,{disabled:t===a.length-1,onClick:()=>this.manipulateDeck(ee("archenemy",t,t+1))},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"}))),n.a.createElement(B.a,{className:"ml-2"},n.a.createElement(_.a,{disabled:0===t,onClick:()=>this.manipulateDeck(de("archenemy",e.deck_card_id))},n.a.createElement("i",{className:"ms ms-untap ms-2x ss-mythic ss-grad"})),n.a.createElement(_.a,{disabled:t===a.length-1,onClick:()=>this.manipulateDeck(he("archenemy",e.deck_card_id))},n.a.createElement("i",{className:"ms ms-tap ms-2x ss-mythic ss-grad"}))),n.a.createElement(B.a,{className:"ml-2"},n.a.createElement(_.a,{color:"danger",onClick:()=>this.manipulateDeck(ge("archenemy",[e]))},n.a.createElement("i",{className:"ss ss-x ss-10e ss-rare ss-grad ss-2x"})))))))))))}}render(){const e=this.state,a=e.loading,t=e.schemes,s=e.deckSelection;return n.a.createElement("div",{className:"archenemy"},n.a.createElement(We,{schemes:t}),a?n.a.createElement(ve,{className:"text-muted"}):s?this.renderDeckSelect():this.renderGamePlay(),this.renderDevTools())}renderGamePlay(){const e=this.state,a=e.loading,t=e.deck,s=e.currentCard,r=e.abandonedOngoing;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"fixed-top mt-1 ml-1 w-25 text-left"},n.a.createElement(_.a,{onClick:this.scheme,className:"mb-2",color:"success",disabled:a,block:!0},n.a.createElement("i",{className:"ss ss-arc ss-3x mx-2"}),n.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Scheme"))),a?n.a.createElement(ve,{className:"text-muted"}):n.a.createElement("div",{className:"mb-2 d-flex justify-content-center"},r?n.a.createElement(je.a,{className:"bg-danger text-center",fluid:!0},n.a.createElement(Re.a,{fluid:!0},n.a.createElement("h1",null,"Current Scheme Has Been Foiled!"))):s?n.a.createElement(A.a,{key:s.deck_card_id,timeout:100},n.a.createElement(qe,{card:s,renderActions:"true"},this.renderAbandon(s))):n.a.createElement(qe,null)),this.renderOngoingSchemes(),this.renderHistory(),n.a.createElement("p",{className:"text-center my-3 noselect"},"There are ",t?t.length:0," cards remaining."),n.a.createElement(_.a,{onClick:this.reset,color:"danger",block:!0},"Reset"))}renderDeckSelect(){const e=this.state.schemes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(xe.a,null,n.a.createElement(_e.a,null,n.a.createElement(Me.a,null,n.a.createElement("h3",{className:"text-center"},"All Schemes")),n.a.createElement(_.a,{block:!0,color:"success",onClick:()=>this.selectDeck("All",e)},"Use All"))),this.renderPrebuilts(),this.renderBuildCustomDeck())}renderOngoingSchemes(){const e=this.state.ongoingSchemes;if(e&&e.length>0)return n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{color:"info",className:"text-center"},n.a.createElement("h5",null,"Ongoing Schemes")),n.a.createElement("div",{className:"d-flex justify-content-center flex-wrap "},e.map(e=>n.a.createElement(n.a.Fragment,{key:e.deck_card_id},n.a.createElement(qe,{card:e,renderActions:"true"},this.renderAbandon(e))))))}renderAbandon(e){if("Ongoing Scheme"===e.type_line&&!K("unabandonable",e))return n.a.createElement(_.a,{onClick:()=>this.abandonScheme(e),color:"danger",size:"lg",className:"btn-translucent"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("i",{className:"ss ss-bok ss-2x ss-grad ss-rare mx-2"}),n.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Abandon Scheme")))}selectDeck(e,a){console.log("Selected ".concat(e),a);const t="All"===e?a:[];a.forEach(e=>{for(let a=0;a<e.count;a++)t.push(e)});const s=ae("archenemy",t,!0);this.setState({deck:s,deckSelection:!1})}incrementCount(e){const a=this.state.customDeck;a.forEach(a=>{a.id===e.id&&(a.count+=1,a.count=Math.min(a.count,2))}),this.setState({customDeck:a})}decrementCount(e){const a=this.state.customDeck;a.forEach(a=>{a.id===e.id&&(a.count-=1,a.count=Math.max(a.count,0))}),this.setState({customDeck:a})}customDeckSize(){return this.state.customDeck.map(e=>e.count).reduce((e,a)=>e+a,0)}renderBuildCustomDeck(){const e=this.state.customDeck,a=e.map(e=>n.a.createElement(P.a,{key:e.id,color:"dark"},n.a.createElement(qe,{card:e}),n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,"x",e.count),n.a.createElement(B.a,null,n.a.createElement(_.a,{disabled:e.count<=0,onClick:()=>this.decrementCount(e)},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),n.a.createElement(_.a,{disabled:e.count>=2,onClick:()=>this.incrementCount(e)},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"}))))));return n.a.createElement(n.a.Fragment,null,n.a.createElement(xe.a,null,n.a.createElement(_e.a,null,n.a.createElement(Me.a,null,n.a.createElement("h3",{className:"text-center"},"Custom Deck")),n.a.createElement(_.a,{block:!0,id:"custom-deck-toggle"},"Build Custom"),n.a.createElement(Ge.a,{toggler:"custom-deck-toggle"},n.a.createElement("div",{className:"fixed-top mt-1 ml-1 text-left"},n.a.createElement(S.a,{color:"info",className:"clearfix"},n.a.createElement("h4",{className:"float-left"},"Custom Deck Size: ",this.customDeckSize()),n.a.createElement(B.a,{className:"float-right"},n.a.createElement(_.a,{color:"danger",onClick:this.resetCustomDeck},"Reset"),n.a.createElement(_.a,{color:"success",onClick:()=>this.selectDeck("Custom",e)},"Use Deck")))),n.a.createElement(H.a,null,a)),n.a.createElement(_.a,{block:!0,color:"success",onClick:()=>this.selectDeck("Custom",e)},"Use Deck"))))}renderPrebuilts(){const e=this.state.schemes,a=Ue.map(e=>e.name).map((a,t)=>{const s=((e,a)=>Ue.find(a=>a.name===e).cards.map(e=>{const t=a.find(a=>a.name===e[0]),s=JSON.parse(JSON.stringify(t));return s.count=e[1],s}))(a,e),r=s.map((e,a)=>n.a.createElement(P.a,{key:a,color:"dark"},n.a.createElement(qe,{card:e}),n.a.createElement("h1",{className:"text-center"},"x",e.count)));return n.a.createElement(xe.a,{key:t},n.a.createElement(_e.a,null,n.a.createElement(Me.a,null,n.a.createElement("h3",{className:"text-center"},a)),n.a.createElement(_.a,{block:!0,id:"prebuilt-".concat(t)},"Decklist"),n.a.createElement(Ge.a,{toggler:"#prebuilt-".concat(t)},n.a.createElement(H.a,null,r)),n.a.createElement(_.a,{block:!0,color:"success",onClick:()=>this.selectDeck(a,s)},"Use Deck")))});return n.a.createElement(n.a.Fragment,null,a)}}var Ke=t(421),Xe=t(114),$e=t.n(Xe),Qe=t(180),Ze=t.n(Qe);const ea=()=>n.a.createElement(c.a,{title:"SYB"},n.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/starter.ico"}),n.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/starter_256.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/starter_64.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/starter_128.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/starter_256.png"}),n.a.createElement("link",{rel:"manifest",href:"/syb-manifest.json"})),aa={name:"circle",nodeDimensionsIncludeLabels:!0},ta={name:"grid",nodeDimensionsIncludeLabels:!0,rows:2};class sa extends s.Component{constructor(...e){super(...e),this.state={playerCount:4,targets:null,loadingDirection:!1},this.componentDidMount=()=>{const e=w.a.get("syb-playerCount")||4,a=w.a.get("syb-targets")||null,t=w.a.get("syb-tableShape")||"circle";this.setState({playerCount:e,targets:a,tableShape:t})},this.whichWay=()=>{const e=w.a.set("syb-targets",null);this.setState({loadingDirection:!0,targets:e}),setTimeout(()=>{this.regenerateOrder(),this.setState({loadingDirection:!1})},1500)}}generateNodes(){const e=this.state.playerCount;return Array.from(Array(e).keys()).map(e=>{const a=0===e?"J":e;return{data:{id:"player-".concat(e),label:a,type:"triangle-tee"}}})}generateEdges(){const e=this.state.targets;return e?e.map((a,t)=>{const s=t+1>=e.length?0:t+1,n=e[s];return{data:{source:"player-".concat(a),target:"player-".concat(n),label:"Edge from ".concat(a," to ").concat(n)}}}):[]}regenerateOrder(e){const a=this.state.playerCount,t=Array.from(Array(e||a).keys()),s=w.a.set("syb-targets",ue(t));this.setState({targets:s})}handleCy(e){const a=this.isSquare()?ta:aa,t=Ze()(()=>{e.layout(a).run()},100);e.on("add remove",()=>{t()})}renderCyto(){const e=this.isSquare()?ta:aa,a={nodes:this.generateNodes(),edges:this.generateEdges()},t=[{selector:"node",style:{padding:"50%",width:"50%",height:"50%","background-color":"#17a2b8","text-valign":"center","text-halign":"center",content:"data(label)"}},{selector:"node[label]",style:{label:"data(label)","font-size":"2em",color:"white"}},{selector:"edge",style:{width:"5%","curve-style":this.isSquare()?"unbundled-bezier":"straight","target-arrow-shape":"triangle ","arrow-scale":2.5,"target-arrow-color":"#FF4444","line-fill":"linear-gradient","line-gradient-stop-colors":["#17a2b8","#FF4444"]}}];return n.a.createElement($e.a,{cy:e=>this.handleCy(e),elements:$e.a.normalizeElements(a),style:{width:"100vw",height:"100vh"},className:"flex-grow",stylesheet:t,userPanningEnabled:!1,layout:e})}isSquare(){this.state.tableShape;return!1}incrementCount(){const e=this.state.playerCount,a=w.a.set("syb-playerCount",e+1);this.regenerateOrder(a),this.setState({playerCount:a})}decrementCount(){const e=this.state.playerCount,a=w.a.set("syb-playerCount",Math.max(e-1,1));this.regenerateOrder(a),this.setState({playerCount:a})}setTableShape(e){const a=w.a.set("syb-tableShape",e);this.setState({tableShape:a})}render(){const e=this.state,a=e.playerCount,t=(e.tableShape,e.loadingDirection);return n.a.createElement("div",{className:"syb"},n.a.createElement(ea,null),n.a.createElement("div",{className:"my-4"},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,a," Players"),n.a.createElement(B.a,null,n.a.createElement(_.a,{disabled:a<=1,onClick:()=>this.decrementCount()},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),n.a.createElement(_.a,{onClick:()=>this.incrementCount()},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"}))),!1)),n.a.createElement("div",{className:"text-center my-2"},n.a.createElement(_.a,{color:"danger",onClick:this.whichWay,block:!0,disabled:t},t?"Calculating...":"Which way are we screwing?")),n.a.createElement("div",{className:"d-flex"},t&&n.a.createElement("div",{className:"position-absolute w-75 text-center",style:{top:"50%"}},n.a.createElement(Ke.a,{color:"danger",type:"grow",className:"position-absolute",style:{width:"10rem",height:"10rem"}})),this.renderCyto()))}}var na=t(185);const ra=()=>n.a.createElement(c.a,{title:"Formats"},n.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/evg.ico"}),n.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/evg_180.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:"mtg/icon/evg_180.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"192x192",href:"mtg/icon/evg_192.png"}),n.a.createElement("link",{rel:"apple-touch-icon",sizes:"512x512",href:"mtg/icon/evg_512.png"}),n.a.createElement("link",{rel:"manifest",href:"/formats-manifest.json"})),la=["Chode Mode","Deck Swaps","Planechase","EDH","2 Headed Giant","SYB","Range 1","Free for All","Pentacle","Secret Partners","Archenemy","Pentacle","Emperor"],ca=[{id:1,name:"Chode Mode",initial:.05,tags:["Chode Mode"]},{id:2,name:"Planechase",initial:.15,tags:["Planechase"]},{id:3,name:"Planechase EDH",initial:.1,tags:["Planechase","EDH"]},{id:4,name:"EDH Free for All",initial:.02,tags:["EDH","Free for All"]},{id:5,name:"EDH SYB",initial:.15,tags:["EDH","SYB"],showSwaps:!0},{id:6,name:"EDH SYB Deck Swaps",displayName:"EDH SYB",initial:.02,tags:["EDH","SYB","Deck Swaps"],showSwaps:!0},{id:7,name:"2 Headed Giant",initial:.2,tags:["2 Headed Giant"]},{id:8,name:"Archenemy",initial:.02,tags:["Archenemy"]},{id:9,name:"Range 1",initial:.1,tags:["Range 1"]},{id:10,name:"Free for All",initial:.02,tags:["Free for All"]},{id:11,name:"SYB",initial:.15,tags:["SYB"],showSwaps:!0},{id:12,name:"SYB Deck Swaps",displayName:"SYB",initial:.02,tags:["SYB","Deck Swaps"],showSwaps:!0}],ia=[{id:1,name:"Chode Mode",initial:.05,tags:["Chode Mode"]},{id:2,name:"Planechase ",initial:.01,tags:["Planechase"]},{id:3,name:"Planechase EDH",initial:.05,tags:["Planechase","EDH"]},{id:4,name:"EDH Free for All",initial:.02,tags:["EDH","Free for All"]},{id:5,name:"EDH SYB",initial:.09,tags:["EDH","SYB"],showSwaps:!0},{id:6,name:"EDH SYB Deck Swaps",displayName:"SYB",initial:.02,tags:["EDH","SYB","Deck Swaps"],showSwaps:!0},{id:7,name:"EDH Pentacle",initial:.09,tags:["EDH","Pentacle"],showSwaps:!0},{id:8,name:"EDH Pentacle Deck Swaps",displayName:"EDH Pentacle",initial:.02,tags:["EDH","Pentacle","Deck Swaps"]},{id:9,name:"Pentacle",initial:.02,tags:["Pentacle"],showSwaps:!0},{id:10,name:"Pentacle Deck Swaps",displayName:"Pentacle",initial:.02,tags:["Pentacle","Deck Swaps"],showSwaps:!0},{id:11,name:"Range 1",initial:.01,tags:["Range 1"]},{id:12,name:"SYB",initial:.02,tags:["SYB"],showSwaps:!0},{id:13,name:"SYB Deck Swaps",displayName:"SYB",initial:.02,tags:["SYB","Deck Swaps"],showSwaps:!0},{id:14,name:"Free for All",initial:.02,tags:["Free for All"]}],oa=[{id:1,name:"Chode Mode",initial:.15,tags:["Chode Mode"]},{id:2,name:"Planechase ",initial:.85,tags:["Planechase"]},{id:3,name:"Planechase EDH",initial:.15,tags:["Planechase","EDH"]},{id:4,name:"EDH Free for All",initial:.15,tags:["EDH","Free for All"]},{id:5,name:"EDH SYB",initial:.85,tags:["EDH","SYB"],showSwaps:!0},{id:6,name:"EDH SYB Deck Swaps",displayName:"EDH SYB",initial:.15,tags:["EDH","SYB","Deck Swaps"],showSwaps:!0},{id:7,name:"EDH Emperor",initial:.85,tags:["EDH","Emperor"],showSwaps:!0},{id:8,name:"EDH Emperor Deck Swaps",displayName:"EDH Emperor",initial:.15,tags:["EDH","Emperor","Deck Swaps"],showSwaps:!0},{id:9,name:"2 Headed Giant SYB",initial:.1275,tags:["2 Headed Giant","SYB"]},{id:10,name:"2 Headed Giant Free for All",initial:.15,tags:["2 Headed Giant","Free for All"]},{id:11,name:"Emperor",initial:.1275,tags:["Emperor"],showSwaps:!0},{id:12,name:"Emperor Deck Swaps",displayName:"Emperor",initial:.15,tags:["Emperor","Deck Swaps"],showSwaps:!0},{id:13,name:"Range 1",initial:.85,tags:["Range 1"]},{id:14,name:"Free for All",initial:.15,tags:["Free for All"]},{id:15,name:"SYB",initial:.1275,tags:["SYB"],showSwaps:!0},{id:16,name:"SYB Deck Swaps",displayName:"SYB",initial:.15,tags:["SYB","Deck Swaps"],showSwaps:!0},{id:17,name:"Secret Partners Deck Swaps",displayName:"Secret Partners",initial:.15,tags:["Secret Partners","Deck Swaps"],showSwaps:!0},{id:18,name:"Secret Partners",initial:.1275,tags:["Secret Partners"],showSwaps:!0}];var ma=t(77),da=t.n(ma),ha=t(181),ga=t.n(ha),pa=t(182),ua=t.n(pa),Ea=(t(346),t(347),t(116)),ya=t(75);const ka=Ea.a.Handle,fa=e=>{const a=e.value,t=e.dragging,s=e.index,r=Object(na.a)(e,["value","dragging","index"]);return n.a.createElement(ya.a,{prefixCls:"rc-slider-tooltip",overlay:a,visible:t,placement:"top",key:s},n.a.createElement(ka,Object.assign({value:a},r)))};class Ca extends s.Component{constructor(...e){super(...e),this.state={playerCount:4,tags:null,currentFormats:null,activeFormat:null,loadingFormat:!1,swapTriggered:!1},this.componentDidMount=()=>{const e=w.a.get("formats-playerCount")||w.a.set("formats-playerCount",4),a=w.a.get("formats-tags")||w.a.set("formats-tags",this.createTags()),t=w.a.get("formats-current")||w.a.set("formats-current",this.createFormats());this.setState({playerCount:e,tags:a,currentFormats:t})},this.reset=()=>{const e=w.a.set("formats-playerCount",4),a=w.a.set("formats-tags",this.createTags()),t=w.a.set("formats-current",this.createFormats());this.setState({playerCount:e,tags:a,currentFormats:t})},this.rand=(e,a)=>Math.random()*(a-e)+e,this.getRandomFormat=e=>{const a=e.reduce((e,a)=>e+a.weight,0),t=this.rand(0,a);let s=0;return e.find(e=>(s+=e.weight,t<=s))},this.updateFormatValue=(e,a)=>{const t=this.state,s=t.playerCount,n=t.currentFormats;n[s].forEach(t=>{t.name===e.name&&(e.weight=a/100)});const r=w.a.set("formats-current",n);this.setState({currentFormats:r})},this.triggerSwap=()=>{this.setState({swapTriggered:!0})},this.toggleTag=e=>{const a=this.state.tags;a.forEach(a=>{a.name===e.name&&(a.enabled=!a.enabled)});const t=w.a.set("formats-tags",a);this.setState({tags:t})}}pickFormat(){console.log("Generate Format"),this.setState({loadingFormat:!0,swapTriggered:!1});const e=this.activeFormats(),a=this.getRandomFormat(e);console.log("picked item",a),setTimeout(()=>{this.setState({loadingFormat:!1,activeFormat:a})},1e3)}incrementCount(){const e=this.state.playerCount,a=w.a.set("formats-playerCount",Math.min(e+1,6));this.setState({playerCount:a,activeFormat:null})}decrementCount(){const e=this.state.playerCount,a=w.a.set("formats-playerCount",Math.max(e-1,4));this.setState({playerCount:a,activeFormat:null})}render(){const e=this.state,a=e.playerCount,t=e.activeFormat,s=e.loadingFormat,r=e.swapTriggered,l=!s&&!r&&t&&t.showSwaps&&this.enabledTags().includes("Deck Swaps");return n.a.createElement("div",{className:"formats"},n.a.createElement(ra,null),n.a.createElement("div",{className:"my-4"},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,a," Players"),n.a.createElement(B.a,{className:"my-4"},n.a.createElement(_.a,{disabled:a<=1,onClick:()=>this.decrementCount()},n.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),n.a.createElement(_.a,{onClick:()=>this.incrementCount()},n.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"}))),n.a.createElement("div",{className:"text-center mb-5"},n.a.createElement(_.a,{block:!0,color:"danger",onClick:()=>this.pickFormat(),disabled:s},s?"Computing...":"Which Format?"),s?n.a.createElement(Ke.a,{size:"lg",color:"primary",className:"mt-3 mb-2"},"Loading..."):n.a.createElement("h1",{className:"my-2"},this.renderActiveFormatName()),l&&n.a.createElement(_.a,{onClick:this.triggerSwap,block:!0,className:"w-50 mx-auto",color:"success"},"Deckswaps?")))),n.a.createElement("hr",{className:"border-info"}),n.a.createElement("div",{className:"mb-5"},this.renderFormatToggles()),n.a.createElement("div",{className:"mb-5"},this.renderActiveFormats()),n.a.createElement("div",{className:"my-3"},n.a.createElement(_.a,{color:"danger",onClick:this.reset,block:!0},"Reset")))}renderActiveFormatName(){const e=this.state,a=e.activeFormat,t=e.swapTriggered;return a?t?a.name:a.displayName||a.name:"None"}createFormats(){let e={4:da()(ca),5:da()(ia),6:da()(oa)};return e[4].forEach(e=>e.weight=.5),e[5].forEach(e=>e.weight=.5),e[6].forEach(e=>e.weight=.5),e}activeTags(){const e=this.state,a=e.currentFormats,t=e.playerCount;return a?ua()(ga()(a[t],e=>e.tags)).sort():[]}createTags(){return la.map(e=>({name:e,enabled:!0}))}renderFormatToggles(){const e=this.state.tags;if(e){const a=this.activeTags(),t=e.filter(e=>a.includes(e.name)).map((e,a)=>n.a.createElement("div",{className:"col-6 col-md-4 col-lg-3 mb-1",key:a},n.a.createElement(_.a,{size:"sm",block:!0,onClick:()=>{this.toggleTag(e)},color:e.enabled?"info":"secondary"},n.a.createElement("div",{className:"float-left"},e.enabled?n.a.createElement("i",{className:"ms ms-dfc ms-dfc-day text-light"}):n.a.createElement("i",{className:"ms ms-dfc ms-dfc-night text-dark"})),n.a.createElement("div",{className:"d-inline"},e.name))));return n.a.createElement("div",{className:"row"},t)}}enabledTags(){const e=this.state.tags;return e?e.filter(e=>e.enabled).map(e=>e.name):[]}activeFormats(){const e=this.state,a=e.tags,t=e.currentFormats,s=e.playerCount;let n=null;if(console.log(" Player",s),console.log("format",t),a&&t&&s){n=t[s];const e=this.enabledTags();console.log("enabledTags",e),n=n.filter(a=>a.tags.every(a=>e.includes(a))),console.log("Formats",n)}return n}renderActiveFormats(){const e=this.state.playerCount,a=this.activeFormats();if(a){return a.map(a=>n.a.createElement("div",{className:"row mb-2",key:"".concat(e,"-").concat(a.id,"-").concat(100*a.weight)},n.a.createElement("div",{className:"col-5"},a.name),n.a.createElement("div",{className:"col-7"},n.a.createElement(Ea.a,{min:0,max:100,marks:{25:"25",50:"50",75:"75"},defaultValue:100*a.weight,included:!0,handle:fa,onAfterChange:e=>{this.updateFormatValue(a,e)}}))))}}}class Sa extends s.Component{constructor(...e){super(...e),this.state={isOpen:!1,disclaimerDismissed:!1,displayText:!1,displayImages:!1,devTools:!1,displayGatherer:!1},this.toggle=()=>{this.setState({isOpen:!this.state.isOpen})},this.componentDidMount=()=>{this.setState({disclaimerDismissed:v("disclaimerDismissed"),displayText:v("displayText"),displayImages:v("displayImages"),devTools:v("devTools")})},this.dismissDisclaimer=()=>{this.setState({disclaimerDismissed:x("disclaimerDismissed",!0)})},this._toggleSetting=e=>{const a={};a[e]=(e=>{const a=v(e);return x(e,!a)})(e),this.setState(a)},this._mtgToggler=(e,a,t)=>n.a.createElement(m.a,{toggle:!1,onClick:t},n.a.createElement("span",null,e?n.a.createElement("i",{className:"ms ms-dfc ms-dfc-day"}):n.a.createElement("i",{className:"ms ms-dfc ms-dfc-night"})),n.a.createElement("span",{className:"ml-3"},a)),this.closeNavbar=()=>{this.state.isOpen&&this.setState({isOpen:!1})}}render(){const e=this.state,a=e.disclaimerDismissed,t=e.displayText,s=e.displayImages,r=e.displayGatherer,l=e.devTools;return n.a.createElement(i.a,null,n.a.createElement(c.b,null,n.a.createElement(c.a,{titleTemplate:"%s - Jibbermaster"}),n.a.createElement(d.a,{color:"dark",dark:!0,expand:"md",className:"text-right p-1 noselect"},n.a.createElement(h.a,null),n.a.createElement(g.a,{onClick:this.toggle}),n.a.createElement(p.a,{isOpen:this.state.isOpen,navbar:!0},n.a.createElement(u.a,{className:"ml-auto",navbar:!0},n.a.createElement(E.a,null,n.a.createElement(y.a,{tag:i.b,exact:!0,to:"/",activeClassName:"active",onClick:this.closeNavbar},"Home")),n.a.createElement(E.a,null,n.a.createElement(y.a,{tag:i.b,exact:!0,to:"/planechase",activeClassName:"active",onClick:this.closeNavbar},"Planechase")),n.a.createElement(E.a,null,n.a.createElement(y.a,{tag:i.b,exact:!0,to:"/archenemy",activeClassName:"active",onClick:this.closeNavbar},"Archenemy")),n.a.createElement(E.a,null,n.a.createElement(y.a,{tag:i.b,exact:!0,to:"/syb",activeClassName:"active",onClick:this.closeNavbar},"SYB")),n.a.createElement(E.a,null,n.a.createElement(y.a,{tag:i.b,exact:!0,to:"/formats",activeClassName:"active",onClick:this.closeNavbar},"Formats")),n.a.createElement(k.a,{nav:!0,inNavbar:!0},n.a.createElement(f.a,{nav:!0,caret:!0},"Settings"),n.a.createElement(C.a,{right:!0},this._mtgToggler(a,"Disclaimer Dismissed",()=>this._toggleSetting("disclaimerDismissed")),this._mtgToggler(t,"Display Text",()=>this._toggleSetting("displayText")),this._mtgToggler(s,"Display Images",()=>this._toggleSetting("displayImages")),this._mtgToggler(r,"Display Gatherer",()=>this._toggleSetting("displayGatherer")),this._mtgToggler(l,"Dev Tools",()=>this._toggleSetting("devTools")),n.a.createElement(m.a,{divider:!0}),n.a.createElement(m.a,{toggle:!1,onClick:()=>w.a.clearAll()},"Clear Everything")))))),n.a.createElement("div",{className:"app text-light bg-dark col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-6 offset-xl-3"},n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",exact:!0,render:e=>n.a.createElement(F,e)}),n.a.createElement(o.a,{path:"/archenemy",exact:!0,render:e=>n.a.createElement(Ve,e)}),n.a.createElement(o.a,{path:"/planechase",exact:!0,render:e=>n.a.createElement(ze,e)}),n.a.createElement(o.a,{path:"/syb",exact:!0,render:e=>n.a.createElement(sa,e)}),n.a.createElement(o.a,{path:"/formats",exact:!0,render:e=>n.a.createElement(Ca,e)})),n.a.createElement(S.a,{color:"warning",className:"fixed-bottom mb-0 py-1",isOpen:!this.state.disclaimerDismissed,toggle:this.dismissDisclaimer},n.a.createElement("h6",null,"Disclaimer"),n.a.createElement("small",{className:"text-muted m-0"},"This site is created for personal use. Magic: The Gathering, the mana symbols, the tap symbol and all other related images are owned by Wizards of the Coast. jibbermaster.com is unaffiliated with Wizards of the Coast.")))))}}var ba=Sa;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(ba,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[186,1,2]]]);
//# sourceMappingURL=main.52529e8b.chunk.js.map