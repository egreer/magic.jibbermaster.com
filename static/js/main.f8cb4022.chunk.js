(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,a,t){},163:function(e,a,t){e.exports=t.p+"static/media/planechase-back.c7f50007.jpg"},164:function(e,a,t){e.exports=t.p+"static/media/archenemy-back.2c00b5d4.jpg"},172:function(e,a,t){e.exports=t(374)},177:function(e,a,t){},190:function(e,a,t){},374:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(12),s=t.n(c),l=(t(177),t(15)),i=t(16),o=t(19),m=t(17),u=t(20),d=t(26),h=t(28),g=t(41),p=t(395),f=t(396),y=t(397),E=t(398),k=t(165),v=t(399),b=t(400),C=t(401),S=t(404),D=t(402),N=t(403),x=t(389),w=t(6),O=t.n(w),_=(t(190),t(156)),M=t.n(_);O.a.addPlugin(M.a);O.a.defaults({"setting-disclaimerDismissed":!1,"setting-displayText":!1,"setting-displayImages":!0,"setting-devTools":!1,"setting-displayGatherer":!1});var F=function(e){return O.a.get("setting-".concat(e))},T=function(e,a){return O.a.set("setting-".concat(e),a)},A=function(e){var a=F(e);return T(e,!a)},j=t(157),H=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).componentDidMount=function(){},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(d.a,{title:"Magic"},r.a.createElement("link",{rel:"manifest",href:"/manifest.json"})),r.a.createElement("div",{className:"mt-4"},r.a.createElement(j.a,{tag:h.b,exact:!0,to:"/planechase",block:!0,color:"info",size:"lg"},r.a.createElement("i",{className:"ms ms-planeswalker ms-4x mx-2 d-block"}),r.a.createElement("span",{className:"d-block"},"Planechase")),r.a.createElement(j.a,{tag:h.b,exact:!0,to:"/archenemy",block:!0,color:"danger",size:"lg"},r.a.createElement("i",{className:"ss ss-arc ss-3x mx-2 d-block"}),r.a.createElement("span",{className:"d-block"},"Archenemy")),r.a.createElement(j.a,{tag:h.b,exact:!0,to:"/syb",block:!0,color:"success",size:"lg"},r.a.createElement("i",{className:"ss ss-s00 ss-3x mx-2 d-block"}),r.a.createElement("span",{className:"d-block"},"SYB")),r.a.createElement(j.a,{tag:h.b,exact:!0,to:"/formats",block:!0,color:"primary",size:"lg"},r.a.createElement("i",{className:"ss ss-evg ss-3x mx-2 d-block"}),r.a.createElement("span",{className:"d-block"},"Formats"))))}}]),a}(n.Component),I=t(21),P=t.n(I),B=t(31),Y=t(32),z=t(385),R=t(375),G=t(386),W=t(387),U=t(405),L=t(388),J=t(376),q=t(390),V=function(e){return O.a.get("".concat(e,"-currentCard"))},K=function(e,a){return O.a.set("".concat(e,"-currentCard"),a)},X=function(e){return O.a.get("".concat(e,"-revealedCards"))},$=function(e,a){return O.a.set("".concat(e,"-revealedCards"),a)},Q=function(e){return O.a.get("".concat(e,"-additionalCards"))},Z=function(e,a){return O.a.set("".concat(e,"-additionalCards"),a)},ee=function(e){return O.a.get("".concat(e,"-scryCards"))},ae=function(e,a){return O.a.set("".concat(e,"-scryCards"),a)},te=function(e,a){return a&&a.customProperties.find(function(a){return a.name===e})},ne=function(e){return"http://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=".concat(e.multiverse_ids[0],"&type=card")},re=function(e){var a=e.planes;return r.a.createElement(d.a,{title:"Planechase"},r.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/planechase.ico"}),r.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/planechase_256.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/planechase_64.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/planechase_128.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/planechase_256.png"}),r.a.createElement("link",{rel:"manifest",href:"/planechase-manifest.json"}),a&&a.map(function(e){return r.a.createElement("link",{rel:"preload",href:ne(e),as:"image",key:e.id})}))},ce=t(161),se=t.n(ce),le=function(e,a,t){var n=oe(e);n.splice(t,0,n.splice(a,1)[0]),me(e,n)},ie=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=oe(e);if(!n||t){console.log("Creating New ".concat(e," Deck"));var r=JSON.parse(JSON.stringify(a));r.forEach(function(e){return e.deck_card_id=se()()}),n=Ce(r),O.a.set("".concat(e,"-history"),[]),me(e,n)}return n},oe=function(e){return O.a.get("".concat(e,"-deck"))},me=function(e,a){return O.a.set("".concat(e,"-deck"),a)},ue=function(e){var a=oe(e),t=a.shift();return t&&de(e,t),me(e,a),t},de=function(e,a){var t=O.a.get("".concat(e,"-history"));t.push(a),O.a.set("".concat(e,"-history"),t)},he=function(e,a){return O.a.get("".concat(e,"-history"))},ge=function(e){var a=O.a.get("".concat(e,"-history")),t=a.pop();return t&&pe(e,[t]),O.a.set("".concat(e,"-history"),a),a[a.length-1]},pe=function(e,a){var t=oe(e);me(e,a.concat(t))},fe=function(e,a){var t=oe(e);me(e,t.concat(a))},ye=function(e,a){return oe(e).find(function(e){return e.deck_card_id===a})},Ee=function(e,a){var t=ye(e,a);t&&(ve(e,[t]),pe(e,[t]))},ke=function(e,a){var t=ye(e,a);t&&(ve(e,[t]),fe(e,[t]))},ve=function(e,a){var t=oe(e).filter(function(e){return!a.find(function(a){return a.deck_card_id===e.deck_card_id})});me(e,t)},be=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],r=oe(e),c=Math.min(r.length,a),s=0,l=c,i=0;i<l;i++)n.push(r[i]),t&&(r[i].type_line.search("Plane")>=0&&s++,i===l-1&&s<c&&l++);return n},Ce=function(e){for(var a,t,n=e.length;0!==n;)t=Math.floor(Math.random()*n),a=e[n-=1],e[n]=e[t],e[t]=a;return e},Se=t(162),De=t.n(Se),Ne=t(76),xe=t.n(Ne),we=De.a.create(),Oe=function(){var e=Object(B.a)(P.a.mark(function e(){var a,t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=Fe("planes")){e.next=12;break}return console.log("Loading from Axios"),e.next=6,we.get("https://api.scryfall.com/cards/search?include_extras=1&q=t%3Aplane+or+t%3Aphenomenon&unique=cards");case 6:t=e.sent,Te("planes",a=(a=t.data.data).map(function(e){return Me(e)})),e.next=13;break;case 12:console.log("Loaded from store");case 13:return e.abrupt("return",a);case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(B.a)(P.a.mark(function e(){var a,t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=Fe("schemes")){e.next=12;break}return console.log("Loading from Axios"),e.next=6,we.get("https://api.scryfall.com/cards/search?include_extras=1&q=t%3Ascheme&unique=cards");case 6:t=e.sent,Te("schemes",a=(a=t.data.data).map(function(e){return Me(e)})),e.next=13;break;case 12:console.log("Loaded from store");case 13:return e.abrupt("return",a);case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(){return e.apply(this,arguments)}}();function Me(e){var a={Aretopolis:[{name:"counter",type:"Scroll"}],"Chaotic Aether":[{name:"all-chaos"}],"Interplanar Tunnel":[{name:"top-5"}],"Kilnspire District":[{name:"counter",type:"Charge"}],"Mount Keralia":[{name:"counter",type:"Pressure"}],"Naar Isle":[{name:"counter",type:"Flame"}],"Spatial Merging":[{name:"two-planes"}],"Stairs to Infinity":[{name:"chaos-trigger"},{name:"scry-1"}],"Pools of Becoming":[{name:"chaos-trigger"},{name:"triple-chaos"}],"Your Inescapable Doom":[{name:"unabandonable"},{name:"counter",type:"Doom"}]};return a[e.name]?e.customProperties=a[e.name]:e.customProperties=[],e.oracle_html={__html:e.oracle_text.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />").replace(/{CHAOS}/g,'<i class="ms ms-chaos"></i>').replace(/CHAOS/g,'<i class="ms ms-chaos"></i>').replace(/{W}/g,'<i class="ms ms-w ms-cost"></i>').replace(/{U}/g,'<i class="ms ms-u ms-cost"></i>').replace(/{B}/g,'<i class="ms ms-b ms-cost"></i>').replace(/{R}/g,'<i class="ms ms-r ms-cost"></i>').replace(/{G}/g,'<i class="ms ms-g ms-cost"></i>').replace(/\{1\}/g,'<i class="ms ms-1 ms-cost"></i>').replace(/\{2\}/g,'<i class="ms ms-2 ms-cost"></i>').replace(/\{3\}/g,'<i class="ms ms-3 ms-cost"></i>').replace(/\{T\}/g,'<i class="ms ms-tap"></i>').replace(/{X}/g,'<i class="ms ms-x ms-cost"></i>').replace(/X/g,'<i class="ms ms-x"></i>').replace(/\((.*)\)/g,"<small><em>($1)</em></small>")},e}function Fe(e){var a,t=O.a.get(e),n=O.a.get("".concat(e,"-fetched"));return!t||(a=n)&&xe()().diff(xe.a.unix(a),"days")>5?null:t}function Te(e,a){O.a.set(e,a),O.a.set("".concat(e,"-fetched"),xe()().unix())}var Ae=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={dotsCount:e.start||0},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.interval,t=void 0===a?500:a;this.dotsInterval=setInterval(function(){e.setState({dotsCount:e.state.dotsCount+1})},t)}},{key:"componentWillUnmount",value:function(){clearInterval(this.dotsInterval)}},{key:"getDotString",value:function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=e%(a+1),r="",c=0;c<n;c++)r+=t;return r}},{key:"render",value:function(){var e=this.props,a=e.label,t=void 0===a?"Loading":a,n=e.className,c=e.numDots,s=void 0===c?3:c,l=this.state.dotsCount,i=this.getDotString(l,s,"."),o="loading-dots ".concat(n);return r.a.createElement("span",{className:o},t,i)}}]),a}(n.Component),je=t(377),He=t(378),Ie=t(379),Pe=t(380),Be=t(381),Ye=t(382),ze=t(383),Re=t(384),Ge=t(163),We=t.n(Ge),Ue=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={counter:0},t.incrementCounter=function(){var e=t.state.counter;t.setState({counter:e+1})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.card,a=this.state.counter,t=function(e){return e.customProperties.find(function(e){return"counter"===e.name}).type}(e);return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-shadow noselect"},a),r.a.createElement(j.a,{onClick:this.incrementCounter,color:"dark",size:"lg",className:"btn-translucent"},r.a.createElement("h3",{className:"mb-0"},"Add ",t," Counter")))}}]),a}(n.Component),Le=(t(119),function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={modalOpen:!1},t.toggleModal=function(){console.log("Toggle Modal"),t.setState({modalOpen:!t.state.modalOpen})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.listDisplay,n=e.card,c=e.children;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{color:"dark",onClick:this.toggleModal},r.a.createElement("div",null,n.name)),r.a.createElement(U.a,{isOpen:this.state.modalOpen,toggle:this.toggleModal,size:"md",backdrop:!0,contentClassName:"bg-secondary"},r.a.createElement(J.a,{className:"p-0",centered:"true"},r.a.createElement(a,{card:n}),c))):r.a.createElement(je.a,{inverse:!0,className:"mtg-plane-card"},this.renderImage(),this.renderCounter(),this.renderChildren(),this.renderBody(),this.renderActions())}},{key:"renderBody",value:function(){var e=this.renderText();return e&&r.a.createElement(He.a,null,e)}},{key:"renderCounter",value:function(){var e=this.props,a=e.card,t=e.renderActions,n=F("displayImages"),c=te("counter",a);if(t&&c)return n?r.a.createElement(Ie.a,{className:"text-center plane-overlay counter-overlay"},r.a.createElement(Pe.a,{className:"text-center"},r.a.createElement(Ue,{card:a}))):r.a.createElement(He.a,{className:"text-center pb-0"},r.a.createElement(Ue,{card:a}))}},{key:"renderChildren",value:function(){var e=this.props.children,a=F("displayImages");if(e)return a?r.a.createElement(Ie.a,{className:"text-center plane-overlay child-overlay"},r.a.createElement(Pe.a,{className:"text-center"},e)):r.a.createElement(He.a,{className:"text-center pb-0"},e)}},{key:"renderActions",value:function(){var e=this.props.card;if(F("displayGatherer")&&e)return r.a.createElement(Be.a,null,r.a.createElement("a",{href:e.related_uris.gatherer,target:"_blank",rel:"noopener noreferrer"},"Gatherer"))}},{key:"renderText",value:function(){var e=this.props.card;if(F("displayText"))return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,r.a.createElement("h5",null,e.name)),r.a.createElement(Ye.a,null,e.type_line),r.a.createElement(ze.a,{dangerouslySetInnerHTML:e.oracle_html})):r.a.createElement(Pe.a,null,"None")}},{key:"renderImage",value:function(){if(F("displayImages"))return r.a.createElement(Re.a,{top:!0,width:"100%",src:this.imageURI(),className:"mtg-card mtg-card-plane"})}},{key:"imageURI",value:function(){var e=this.props.card;return e?ne(e):We.a}}]),a}(n.Component)),Je=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(c)))).state={loading:!1,planes:[],deck:null,currentCard:null,revealedCards:[],additionalCards:[],scryCards:[],tripleChaosModalOpen:!1,scryModalOpen:!1,planeswalkDisabled:!1,showHistory:!1,showDeck:!1,showDeckImages:!1},t.componentDidMount=Object(B.a)(P.a.mark(function e(){var a,n,r,c,s,l,i,o;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:a=e.sent,n=ie("planechase",a),r=V("planechase"),c=X("planechase")||[],s=ee("planechase")||[],l=Q("planechase"),i=!!te("top-5",r),o=s.length>0&&!!te("scry-1",r),t.setState({planes:a,loading:!1,deck:n,currentCard:r,revealedCards:c,additionalCards:l,scryCards:s,planeswalkDisabled:i,scryModalOpen:o});case 11:case"end":return e.stop()}},e)})),t.refreshDeck=function(){var e=oe("planechase");t.setState({deck:e})},t.planeswalk=function(){var e=ue("planechase");K("planechase",e);var a=[],n=[];if(te("two-planes",e)){a=be("planechase",2,!0),ve("planechase",a);var r=a.filter(function(e){return e.type_line.search("Plane")>=0}),c=a.filter(function(e){return e.type_line.search("Phenomenon")>=0});r.forEach(function(e){return de("planechase",e)}),fe("planechase",c),a=[],n=r}te("top-5",e)&&(a=be("planechase",5,!0),ve("planechase",a),t.setState({planeswalkDisabled:!0})),$("planechase",a),Z("planechase",n),t.refreshDeck(),t.setState({currentCard:e,revealedCards:a,additionalCards:n})},t.reset=Object(B.a)(P.a.mark(function e(){var a,n,r,c,s,l;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0}),e.next=3,Oe();case 3:a=e.sent,n=ie("planechase",a,!0),r=K("planechase",null),c=$("planechase",[]),s=ae("planechase",[]),l=Z("planechase",[]),t.setState({planes:a,loading:!1,deck:n,currentCard:r,revealedCards:c,scryCards:s,additionalCards:l,planeswalkDisabled:!1,scryModalOpen:!1});case 10:case"end":return e.stop()}},e)})),t.undo=Object(B.a)(P.a.mark(function e(){var a;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=ge("planechase"),t.refreshDeck(),t.setState({currentCard:a});case 3:case"end":return e.stop()}},e)})),t.triggerChaos=function(e){var a=t.state.scryCards;if(console.log("Chaos Triggered"),te("triple-chaos",e)){var n=be("planechase",3,!0);ve("planechase",n);var r=Ce(n.slice());fe("planechase",r),t.refreshDeck(),$("planechase",n),t.setState({revealedCards:n,tripleChaosModalOpen:!0})}if(te("scry-1",e)){if(!a||0===a.length){var c=be("planechase",1,!1);ve("planechase",c),ae("planechase",c),t.setState({scryCards:c})}t.setState({scryModalOpen:!0})}},t.renderDevTools=function(){if(F("devTools"))return r.a.createElement("div",{className:"my-4"},r.a.createElement("h5",{className:"text-center noselect"},"Dev Tools"),r.a.createElement(j.a,{onClick:t.undo,color:"warning",block:!0},"Undo"),t.renderDeck())},t.toggleDeck=function(){t.setState({showDeck:!t.state.showDeck})},t.toggleDeckImages=function(){t.setState({showDeckImages:!t.state.showDeckImages})},t.manipulateDeck=function(){t.refreshDeck()},t.renderDeck=function(){var e=t.state,a=e.deck,n=e.showDeck,c=e.showDeckImages;return r.a.createElement("div",{className:"my-2"},r.a.createElement(j.a,{onClick:t.toggleDeck,block:!0},n?"Hide":"Show"," Deck"),r.a.createElement(Y.a,{in:n},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{onClick:t.toggleDeckImages,block:!0},c?"Hide":"Show"," Full Card"),r.a.createElement(z.a,null,a.map(function(e,n){return r.a.createElement(r.a.Fragment,{key:e.deck_card_id},r.a.createElement(Le,{card:e,listDisplay:!c}),r.a.createElement(R.a,{className:"text-center justify-content-center d-flex"},r.a.createElement(G.a,null,r.a.createElement(W.a,null,r.a.createElement(j.a,{disabled:0===n,onClick:function(){return t.manipulateDeck(le("planechase",n,n-1))}},r.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"})),r.a.createElement(j.a,{disabled:n===a.length-1,onClick:function(){return t.manipulateDeck(le("planechase",n,n+1))}},r.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"}))),r.a.createElement(W.a,{className:"ml-2"},r.a.createElement(j.a,{disabled:0===n,onClick:function(){return t.manipulateDeck(Ee("planechase",e.deck_card_id))}},r.a.createElement("i",{className:"ms ms-untap ms-2x ss-mythic ss-grad"})),r.a.createElement(j.a,{disabled:n===a.length-1,onClick:function(){return t.manipulateDeck(ke("planechase",e.deck_card_id))}},r.a.createElement("i",{className:"ms ms-tap ms-2x ss-mythic ss-grad"}))),r.a.createElement(W.a,{className:"ml-2"},r.a.createElement(j.a,{color:"danger",onClick:function(){return t.manipulateDeck(ve("planechase",[e]))}},r.a.createElement("i",{className:"ss ss-x ss-10e ss-rare ss-grad ss-2x"}))))))})))))},t.toggleHistory=function(){t.setState({showHistory:!t.state.showHistory})},t.renderHistory=function(){var e=t.state.showHistory,a=he("planechase");return r.a.createElement("div",{className:"my-2"},r.a.createElement(j.a,{onClick:t.toggleHistory,block:!0},e?"Hide":"Show"," History"),r.a.createElement(Y.a,{in:e},e&&a&&r.a.createElement(z.a,null,a.reverse().map(function(e){return r.a.createElement(Le,{card:e,key:e.deck_card_id,listDisplay:!0})}))))},t.selectPlane=function(e){var a=t.state.revealedCards;ve("planechase",a),pe("planechase",[e]);var n=a.filter(function(a){return a.deck_card_id!==e.deck_card_id}),r=Ce(n.slice());fe("planechase",r),$("planechase",[]),t.setState({planeswalkDisabled:!1,revealedCards:[]}),t.planeswalk()},t._tripleChaosModalClose=function(){$("planechase",[]),t.setState({tripleChaosModalOpen:!1,revealedCards:[]})},t._tripleChaosModalToggle=function(){t.state.tripleChaosModalOpen&&t._tripleChaosModalClose()},t._scryModalClose=function(){ae("planechase",[]),t.setState({scryModalOpen:!1,scryCards:[]})},t._scryTop=function(){var e=t.state.scryCards;pe("planechase",e),console.log("Scry Top",e),t.refreshDeck(),ae("planechase",[]),t.setState({scryCards:[],scryModalOpen:!1})},t._scryBottom=function(){var e=t.state.scryCards;fe("planechase",e),console.log("Scry Bottom",e),t.refreshDeck(),ae("planechase",[]),t.setState({scryCards:[],scryModalOpen:!1})},t.renderScryModal=function(){var e=t.state,a=e.scryCards,n=e.scryModalOpen;if(a&&n)return r.a.createElement(U.a,{isOpen:!!n,size:"md",contentClassName:"bg-secondary"},r.a.createElement(L.a,{className:"justify-content-center text-white"},r.a.createElement("i",{className:"ms ms-chaos mx-4"}),"Scry Card",r.a.createElement("i",{className:"ms ms-chaos mx-4"})),r.a.createElement(J.a,null,r.a.createElement(j.a,{color:"info",block:!0,onClick:t._scryTop},"Top"),a.map(function(e){return r.a.createElement(Le,{card:e,key:e.deck_card_id})}),r.a.createElement(j.a,{color:"info",block:!0,onClick:t._scryBottom},"Bottom")))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.loading,t=e.planes,n=e.deck,c=e.currentCard,s=e.planeswalkDisabled;return r.a.createElement("div",{className:"planechase"},r.a.createElement(re,{planes:t}),r.a.createElement("div",{className:"fixed-top mt-1 ml-1 w-25 text-left"},r.a.createElement(j.a,{onClick:this.planeswalk,className:"mb-2",color:"success",disabled:s||a,block:!0},r.a.createElement("i",{className:"ms ms-planeswalker ms-2x mx-2"}),r.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Planeswalk"))),a?r.a.createElement(Ae,{className:"text-muted"}):r.a.createElement("div",{className:"mb-2"},c?r.a.createElement(Y.a,{key:c.deck_card_id,timeout:100},r.a.createElement(Le,{card:c,renderActions:"true"},this.renderChaos(c))):r.a.createElement(Le,null)),this.renderTwoPlanes(),this.renderFivePlanes(),this.renderTripleChaosModal(),this.renderScryModal(),this.renderHistory(),r.a.createElement("p",{className:"text-center my-3 noselect"},"There are ",n?n.length:0," cards remaining."),r.a.createElement(j.a,{onClick:this.reset,color:"danger",block:!0},"Reset"),this.renderDevTools())}},{key:"renderChaos",value:function(e){var a=this;if(te("chaos-trigger",e))return r.a.createElement(j.a,{onClick:function(){return a.triggerChaos(e)},color:"info",size:"lg",className:"btn-translucent"},r.a.createElement("i",{className:"ms ms-chaos ms-2x mx-2"}),r.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Trigger Chaos"))}},{key:"renderTwoPlanes",value:function(){var e=this,a=this.state,t=a.currentCard,n=a.additionalCards;if(te("two-planes",t)){var c=n.filter(function(e){return e.type_line.search("Plane")>=0});return r.a.createElement("div",null,r.a.createElement(x.a,{color:"info",className:"text-center mb-0"},r.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),"You Are On Both Planes",r.a.createElement("i",{className:"ms ms-planeswalker mx-2"})),c.map(function(a){return r.a.createElement(r.a.Fragment,{key:a.deck_card_id},r.a.createElement(Le,{card:a,renderActions:"true"},e.renderChaos(a)))}))}}},{key:"renderFivePlanes",value:function(){var e=this,a=this.state,t=a.currentCard,n=a.revealedCards;if(te("top-5",t)){console.log(n);var c=n.filter(function(e){return e.type_line.search("Plane")>=0});return console.log(c),r.a.createElement("div",null,r.a.createElement(x.a,{color:"info",className:"text-center mb-0"},r.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),"Pick a Plane to Planeswalk To",r.a.createElement("i",{className:"ms ms-planeswalker mx-2"})),c.map(function(a){return r.a.createElement("div",{key:a.deck_card_id},r.a.createElement(Le,{card:a},r.a.createElement(j.a,{onClick:function(){return e.selectPlane(a)},color:"primary",className:"btn-translucent",size:"lg"},r.a.createElement("i",{className:"ms ms-planeswalker mx-2"}),r.a.createElement("span",{className:"mx-2"},"Planeswalk"))))}))}}},{key:"renderTripleChaosModal",value:function(){var e=this,a=this.state,t=a.revealedCards,n=a.tripleChaosModalOpen;if(t&&n){var c=t.filter(function(e){return e.type_line.search("Plane")>=0});return r.a.createElement(U.a,{isOpen:!!n,toggle:this._tripleChaosModalToggle,onClosed:this._tripleChaosModalClose,size:"md",backdrop:!0,contentClassName:"bg-secondary"},r.a.createElement(L.a,{className:"justify-content-center text-center text-white"},r.a.createElement("div",null,r.a.createElement("i",{className:"ms ms-chaos mr-1"}),r.a.createElement("i",{className:"ms ms-chaos mr-1"}),r.a.createElement("i",{className:"ms ms-chaos mr-1"}),r.a.createElement("span",{className:"mx-1"},"Triple Chaos"),r.a.createElement("i",{className:"ms ms-chaos ml-1"}),r.a.createElement("i",{className:"ms ms-chaos ml-1"}),r.a.createElement("i",{className:"ms ms-chaos ml-1"})),r.a.createElement("div",null,r.a.createElement("small",{className:"text-center"},"You Pick Order"))),r.a.createElement(J.a,{className:"text-center"},c.map(function(a){return r.a.createElement(r.a.Fragment,{key:a.deck_card_id},r.a.createElement(Le,{card:a},e.renderChaos(a)))})),r.a.createElement(q.a,null,r.a.createElement(j.a,{color:"info",block:!0,"aria-label":"Close",onClick:this._tripleChaosModalClose},"Done")))}}}]),a}(n.Component),qe=t(391),Ve=t(392),Ke=t(393),Xe=function(e){var a=e.schemes;return r.a.createElement(d.a,{title:"Archenemy"},r.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/archenemy.ico"}),r.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/archenemy_256.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/archenemy_64.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/archenemy_128.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/archenemy_256.png"}),r.a.createElement("link",{rel:"manifest",href:"/archenemy-manifest.json"}),a&&a.map(function(e){return r.a.createElement("link",{rel:"preload",href:e.image_uris.large,as:"image",key:e.id})}))},$e=[{name:"Assemble the Doomsday Machine",cards:[["All in Good Time",1],["Behold the Power of Destruction",1],["Embrace My Diabolical Vision",1],["Feed the Machine",2],["I Delight in Your Convulsions",1],["I Know All, I See All",2],["Ignite the Cloneforge!",2],["Introductions Are in Order",1],["The Iron Guardian Stirs",2],["My Genius Knows No Bounds",1],["Nothing Can Stop Me Now",1],["The Pieces Are Coming Together",2],["Realms Befitting My Majesty",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Scorch the World with Dragonfire",cards:[["All Shall Smolder in My Wake",2],["Approach My Molten Realm",1],["The Fate of the Flammable",1],["I Bask in Your Silent Awe",2],["I Delight in Your Convulsions",1],["Introductions Are in Order",1],["Know Naught but Fire",1],["Look Skyward and Despair",2],["My Crushing Masterstroke",1],["My Wish Is Your Command",2],["Realms Befitting My Majesty",1],["Tooth, Claw, and Tail",1],["Which of You Burns Brightest?",2],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Trample Civilization Underfoot",cards:[["Every Last Vestige Shall Rot",2],["Evil Comes to Fruition",1],["I Call on the Ancient Magics",1],["I Delight in Your Convulsions",1],["Into the Earthen Maw",1],["Introductions Are in Order",1],["May Civilization Collapse",1],["Nature Demands an Offering",2],["Nature Shields Its Own",2],["Realms Befitting My Majesty",1],["Roots of All Evil",2],["The Very Soil Shall Shake",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1],["Your Will Is Not Your Own",2]]},{name:"Bring About the Undead Apocalypse",cards:[["Choose Your Champion",2],["Dance, Pathetic Marionette",1],["The Dead Shall Serve",2],["Every Hope Shall Vanish",2],["I Delight in Your Convulsions",2],["Introductions Are in Order",1],["Mortal Flesh Is Weak",1],["My Undead Horde Awakens",1],["Only Blood Ends Your Nightmares",2],["Realms Befitting My Majesty",1],["Rotted Ones, Lay Siege",2],["Surrender Your Thoughts",1],["Your Fate Is Thrice Sealed",1],["Your Puny Minds Cannot Fathom",1]]},{name:"Archenemy Nicol Bolas",cards:[["Because I Have Willed It",1],["Behold My Grandeur",1],["Bow to My Command",1],["Choose Your Demise",1],["Delight in the Hunt",1],["Every Dream a Nightmare",1],["For Each of You, a Gift",1],["Know Evil",1],["Make Yourself Useful",1],["The Mighty Will Fall",1],["My Forces Are Innumerable",1],["My Laughter Echoes",1],["No One Will Hear Your Cries",1],["Pay Tribute to Me",1],["Power Without Equal",1],["A Reckoning Approaches",1],["There Is No Refuge",1],["This World Belongs to Me",1],["What's Yours Is Now Mine",1],["When Will You Learn?",1]]}],Qe=t(164),Ze=t.n(Qe),ea=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={modalOpen:!1},t.toggleModal=function(){console.log("Toggle Modal"),t.setState({modalOpen:!t.state.modalOpen})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.listDisplay,n=e.card,c=e.children;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{color:"dark",onClick:this.toggleModal},n.name),r.a.createElement(U.a,{isOpen:this.state.modalOpen,toggle:this.toggleModal,size:"md",backdrop:!0,contentClassName:"bg-secondary"},r.a.createElement(J.a,{className:"p-0",centered:"true"},r.a.createElement(a,{card:n}),c))):r.a.createElement(je.a,{inverse:!0,className:"mtg-scheme-card"},this.renderImage(),this.renderCounter(),this.renderChildren(),this.renderBody(),this.renderActions())}},{key:"renderBody",value:function(){var e=this.renderText();return e&&r.a.createElement(He.a,null,e)}},{key:"renderCounter",value:function(){var e=this.props,a=e.card,t=e.renderActions,n=F("displayImages"),c=te("counter",a);if(t&&c)return n?r.a.createElement(Ie.a,{className:"text-center scheme-overlay counter-overlay"},r.a.createElement(Pe.a,{className:"text-center pt-5 mt-sm-5"},r.a.createElement(Ue,{card:a}))):r.a.createElement(He.a,{className:"text-center pb-0"},r.a.createElement(Ue,{card:a}))}},{key:"renderChildren",value:function(){var e=this.props.children,a=F("displayImages");if(e)return a?r.a.createElement(Ie.a,{className:"text-center scheme-overlay child-overlay"},r.a.createElement(Pe.a,{className:"text-center pt-5 mt-sm-5"},e)):r.a.createElement(He.a,{className:"text-center pb-0"},e)}},{key:"renderActions",value:function(){var e=this.props.card;if(F("displayGatherer")&&e)return r.a.createElement(Be.a,null,r.a.createElement("a",{href:e.related_uris.gatherer,target:"_blank",rel:"noopener noreferrer"},"Gatherer"))}},{key:"renderText",value:function(){var e=this.props.card;if(F("displayText"))return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,r.a.createElement("h5",null,e.name)),r.a.createElement(Ye.a,null,e.type_line),r.a.createElement(ze.a,{dangerouslySetInnerHTML:e.oracle_html})):r.a.createElement(Pe.a,null,"None")}},{key:"renderImage",value:function(){if(F("displayImages"))return r.a.createElement(Re.a,{top:!0,width:"100%",src:this.imageURI(),className:"mtg-card mtg-card-scheme"})}},{key:"imageURI",value:function(){var e=this.props.card;return e?e.image_uris.large:Ze.a}}]),a}(n.Component),aa=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(c)))).state={loading:!0,deck:null,currentCard:null,ongoingSchemes:[],schemes:[],showHistory:!1,showDeck:!1,showDeckImages:!1,abandonedOngoing:!1,deckSelection:!0,customDeck:null},t.componentDidMount=Object(B.a)(P.a.mark(function e(){var a,n,r,c,s,l;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:a=e.sent,n=oe("archenemy"),r=V("archenemy"),c=Q("archenemy")||[],s=!!O.a.get("archenemy-abandonedOngoing"),(l=JSON.parse(JSON.stringify(a))).forEach(function(e){return e.count=0}),t.setState({currentCard:r,deck:n,loading:!1,ongoingSchemes:c,schemes:a,abandonedOngoing:s,deckSelection:!n,customDeck:l});case 10:case"end":return e.stop()}},e)})),t.refreshDeck=function(){var e=oe("archenemy");t.setState({deck:e})},t.scheme=function(){var e=t.state,a=e.currentCard,n=e.ongoingSchemes;a&&"Ongoing Scheme"===a.type_line&&n.push(a);var r=ue("archenemy");K("archenemy",r),Z("archenemy",n),t.refreshDeck(),t.setState({currentCard:r,ongoingSchemes:n,abandonedOngoing:O.a.set("archenemy-abandonedOngoing",!1)})},t.reset=Object(B.a)(P.a.mark(function e(){var a,n,r,c,s;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0}),e.next=3,_e();case 3:a=e.sent,null,me("archenemy",null),n=K("archenemy",null),r=Z("archenemy",[]),c=O.a.set("archenemy-abandonedOngoing",!1),(s=JSON.parse(JSON.stringify(a))).forEach(function(e){return e.count=0}),t.setState({schemes:a,loading:!1,deck:null,currentCard:n,ongoingSchemes:r,abandonedOngoing:c,deckSelection:!0,customDeck:s});case 12:case"end":return e.stop()}},e)})),t.undo=Object(B.a)(P.a.mark(function e(){var a;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=ge("archenemy"),t.refreshDeck(),t.setState({currentCard:a});case 3:case"end":return e.stop()}},e)})),t.renderDevTools=function(){if(F("devTools"))return r.a.createElement("div",{className:"my-4"},r.a.createElement("h5",{className:"text-center noselect"},"Dev Tools"),r.a.createElement(j.a,{onClick:t.undo,color:"warning",block:!0},"Undo"),t.renderDeck())},t.abandonScheme=function(e){var a=t.state,n=a.ongoingSchemes;if(a.currentCard.deck_card_id===e.deck_card_id){console.log("Abandon Current Scheme",e),K("archenemy",null);var r=O.a.set("archenemy-abandonedOngoing",!0);t.setState({currentCard:null,abandonedOngoing:r})}else{console.log("Abandon Scheme",e);var c=n.filter(function(a){return a.deck_card_id!==e.deck_card_id});Z("archenemy",c),t.setState({ongoingSchemes:c})}},t.toggleHistory=function(){t.setState({showHistory:!t.state.showHistory})},t.renderHistory=function(){var e=t.state.showHistory,a=he("archenemy");return r.a.createElement("div",{className:"my-2"},r.a.createElement(j.a,{onClick:t.toggleHistory,block:!0},e?"Hide":"Show"," History"),r.a.createElement(Y.a,{in:e},e&&a&&r.a.createElement(z.a,null,a.reverse().map(function(e){return r.a.createElement(ea,{card:e,key:e.deck_card_id,listDisplay:!0})}))))},t.resetCustomDeck=function(){var e=t.state.customDeck;e.forEach(function(e){return e.count=0}),t.setState({customDeck:e})},t.toggleDeck=function(){t.setState({showDeck:!t.state.showDeck})},t.toggleDeckImages=function(){t.setState({showDeckImages:!t.state.showDeckImages})},t.manipulateDeck=function(){t.refreshDeck()},t.renderDeck=function(){var e=t.state,a=e.deck,n=e.showDeck,c=e.showDeckImages;return r.a.createElement("div",{className:"my-2"},r.a.createElement(j.a,{onClick:t.toggleDeck,block:!0},n?"Hide":"Show"," Deck"),r.a.createElement(Y.a,{in:n},n&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{onClick:t.toggleDeckImages,block:!0},c?"Hide":"Show"," Full Card"),r.a.createElement(z.a,null,a.map(function(e,n){return r.a.createElement(r.a.Fragment,{key:e.deck_card_id},r.a.createElement(ea,{card:e,listDisplay:!c}),r.a.createElement(R.a,{className:"text-center justify-content-center d-flex"},r.a.createElement(G.a,null,r.a.createElement(W.a,null,r.a.createElement(j.a,{disabled:0===n,onClick:function(){return t.manipulateDeck(le("archenemy",n,n-1))}},r.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"})),r.a.createElement(j.a,{disabled:n===a.length-1,onClick:function(){return t.manipulateDeck(le("archenemy",n,n+1))}},r.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"}))),r.a.createElement(W.a,{className:"ml-2"},r.a.createElement(j.a,{disabled:0===n,onClick:function(){return t.manipulateDeck(Ee("archenemy",e.deck_card_id))}},r.a.createElement("i",{className:"ms ms-untap ms-2x ss-mythic ss-grad"})),r.a.createElement(j.a,{disabled:n===a.length-1,onClick:function(){return t.manipulateDeck(ke("archenemy",e.deck_card_id))}},r.a.createElement("i",{className:"ms ms-tap ms-2x ss-mythic ss-grad"}))),r.a.createElement(W.a,{className:"ml-2"},r.a.createElement(j.a,{color:"danger",onClick:function(){return t.manipulateDeck(ve("archenemy",[e]))}},r.a.createElement("i",{className:"ss ss-x ss-10e ss-rare ss-grad ss-2x"}))))))})))))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.loading,t=e.schemes,n=e.deckSelection;return r.a.createElement("div",{className:"archenemy"},r.a.createElement(Xe,{schemes:t}),a?r.a.createElement(Ae,{className:"text-muted"}):n?this.renderDeckSelect():this.renderGamePlay(),this.renderDevTools())}},{key:"renderGamePlay",value:function(){var e=this.state,a=e.loading,t=e.deck,n=e.currentCard,c=e.abandonedOngoing;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed-top mt-1 ml-1 w-25 text-left"},r.a.createElement(j.a,{onClick:this.scheme,className:"mb-2",color:"success",disabled:a,block:!0},r.a.createElement("i",{className:"ss ss-arc ss-3x mx-2"}),r.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Scheme"))),a?r.a.createElement(Ae,{className:"text-muted"}):r.a.createElement("div",{className:"mb-2 d-flex justify-content-center"},c?r.a.createElement(qe.a,{className:"bg-danger text-center",fluid:!0},r.a.createElement(Ve.a,{fluid:!0},r.a.createElement("h1",null,"Current Scheme Has Been Foiled!"))):n?r.a.createElement(Y.a,{key:n.deck_card_id,timeout:100},r.a.createElement(ea,{card:n,renderActions:"true"},this.renderAbandon(n))):r.a.createElement(ea,null)),this.renderOngoingSchemes(),this.renderHistory(),r.a.createElement("p",{className:"text-center my-3 noselect"},"There are ",t?t.length:0," cards remaining."),r.a.createElement(j.a,{onClick:this.reset,color:"danger",block:!0},"Reset"))}},{key:"renderDeckSelect",value:function(){var e=this,a=this.state.schemes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,null,r.a.createElement(He.a,null,r.a.createElement(Pe.a,null,r.a.createElement("h3",{className:"text-center"},"All Schemes")),r.a.createElement(j.a,{block:!0,color:"success",onClick:function(){return e.selectDeck("All",a)}},"Use All"))),this.renderPrebuilts(),this.renderBuildCustomDeck())}},{key:"renderOngoingSchemes",value:function(){var e=this,a=this.state.ongoingSchemes;if(a&&a.length>0)return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{color:"info",className:"text-center"},r.a.createElement("h5",null,"Ongoing Schemes")),r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap "},a.map(function(a){return r.a.createElement(r.a.Fragment,{key:a.deck_card_id},r.a.createElement(ea,{card:a,renderActions:"true"},e.renderAbandon(a)))})))}},{key:"renderAbandon",value:function(e){var a=this;if("Ongoing Scheme"===e.type_line&&!te("unabandonable",e))return r.a.createElement(j.a,{onClick:function(){return a.abandonScheme(e)},color:"danger",size:"lg",className:"btn-translucent"},r.a.createElement("h2",{className:"mb-0"},r.a.createElement("i",{className:"ss ss-bok ss-2x ss-grad ss-rare mx-2"}),r.a.createElement("span",{className:"mx-2 d-none d-md-inline"},"Abandon Scheme")))}},{key:"selectDeck",value:function(e,a){console.log("Selected ".concat(e),a);var t="All"===e?a:[];a.forEach(function(e){for(var a=0;a<e.count;a++)t.push(e)});var n=ie("archenemy",t,!0);this.setState({deck:n,deckSelection:!1})}},{key:"incrementCount",value:function(e){var a=this.state.customDeck;a.forEach(function(a){a.id===e.id&&(a.count+=1,a.count=Math.min(a.count,2))}),this.setState({customDeck:a})}},{key:"decrementCount",value:function(e){var a=this.state.customDeck;a.forEach(function(a){a.id===e.id&&(a.count-=1,a.count=Math.max(a.count,0))}),this.setState({customDeck:a})}},{key:"customDeckSize",value:function(){return this.state.customDeck.map(function(e){return e.count}).reduce(function(e,a){return e+a},0)}},{key:"renderBuildCustomDeck",value:function(){var e=this,a=this.state.customDeck,t=a.map(function(a){return r.a.createElement(R.a,{key:a.id,color:"dark"},r.a.createElement(ea,{card:a}),r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,"x",a.count),r.a.createElement(W.a,null,r.a.createElement(j.a,{disabled:a.count<=0,onClick:function(){return e.decrementCount(a)}},r.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),r.a.createElement(j.a,{disabled:a.count>=2,onClick:function(){return e.incrementCount(a)}},r.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"})))))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,null,r.a.createElement(He.a,null,r.a.createElement(Pe.a,null,r.a.createElement("h3",{className:"text-center"},"Custom Deck")),r.a.createElement(j.a,{block:!0,id:"custom-deck-toggle"},"Build Custom"),r.a.createElement(Ke.a,{toggler:"custom-deck-toggle"},r.a.createElement("div",{className:"fixed-top mt-1 ml-1 text-left"},r.a.createElement(x.a,{color:"info",className:"clearfix"},r.a.createElement("h4",{className:"float-left"},"Custom Deck Size: ",this.customDeckSize()),r.a.createElement(W.a,{className:"float-right"},r.a.createElement(j.a,{color:"danger",onClick:this.resetCustomDeck},"Reset"),r.a.createElement(j.a,{color:"success",onClick:function(){return e.selectDeck("Custom",a)}},"Use Deck")))),r.a.createElement(z.a,null,t)),r.a.createElement(j.a,{block:!0,color:"success",onClick:function(){return e.selectDeck("Custom",a)}},"Use Deck"))))}},{key:"renderPrebuilts",value:function(){var e=this,a=this.state.schemes,t=$e.map(function(e){return e.name}).map(function(t,n){var c=function(e,a){return $e.find(function(a){return a.name===e}).cards.map(function(e){var t=a.find(function(a){return a.name===e[0]}),n=JSON.parse(JSON.stringify(t));return n.count=e[1],n})}(t,a),s=c.map(function(e,a){return r.a.createElement(R.a,{key:a,color:"dark"},r.a.createElement(ea,{card:e}),r.a.createElement("h1",{className:"text-center"},"x",e.count))});return r.a.createElement(je.a,{key:n},r.a.createElement(He.a,null,r.a.createElement(Pe.a,null,r.a.createElement("h3",{className:"text-center"},t)),r.a.createElement(j.a,{block:!0,id:"prebuilt-".concat(n)},"Decklist"),r.a.createElement(Ke.a,{toggler:"#prebuilt-".concat(n)},r.a.createElement(z.a,null,s)),r.a.createElement(j.a,{block:!0,color:"success",onClick:function(){return e.selectDeck(t,c)}},"Use Deck")))});return r.a.createElement(r.a.Fragment,null,t)}}]),a}(n.Component),ta=t(394),na=t(106),ra=t.n(na),ca=t(166),sa=t.n(ca),la=function(){return r.a.createElement(d.a,{title:"SYB"},r.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/starter.ico"}),r.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/starter_256.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"64x64",href:"mtg/icon/starter_64.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"128x128",href:"mtg/icon/starter_128.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"256x256",href:"mtg/icon/starter_256.png"}),r.a.createElement("link",{rel:"manifest",href:"/syb-manifest.json"}))},ia={name:"circle",nodeDimensionsIncludeLabels:!0},oa={name:"grid",nodeDimensionsIncludeLabels:!0,rows:2},ma=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={playerCount:4,targets:null,loadingDirection:!1},t.componentDidMount=function(){var e=O.a.get("syb-playerCount")||4,a=O.a.get("syb-targets")||null,n=O.a.get("syb-tableShape")||"circle";t.setState({playerCount:e,targets:a,tableShape:n})},t.whichWay=function(){var e=O.a.set("syb-targets",null);t.setState({loadingDirection:!0,targets:e}),setTimeout(function(){t.regenerateOrder(),t.setState({loadingDirection:!1})},1500)},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"generateNodes",value:function(){var e=this.state.playerCount;return Array.from(Array(e).keys()).map(function(e){var a=0===e?"J":e;return{data:{id:"player-".concat(e),label:a,type:"triangle-tee"}}})}},{key:"generateEdges",value:function(){var e=this.state.targets;return e?e.map(function(a,t){var n=t+1>=e.length?0:t+1,r=e[n];return{data:{source:"player-".concat(a),target:"player-".concat(r),label:"Edge from ".concat(a," to ").concat(r)}}}):[]}},{key:"regenerateOrder",value:function(e){var a=this.state.playerCount,t=Array.from(Array(e||a).keys()),n=O.a.set("syb-targets",Ce(t));this.setState({targets:n})}},{key:"handleCy",value:function(e){var a=this.isSquare()?oa:ia,t=sa()(function(){e.layout(a).run()},100);e.on("add remove",function(){t()})}},{key:"renderCyto",value:function(){var e=this,a=this.isSquare()?oa:ia,t={nodes:this.generateNodes(),edges:this.generateEdges()},n=[{selector:"node",style:{padding:"50%",width:"50%",height:"50%","background-color":"#17a2b8","text-valign":"center","text-halign":"center",content:"data(label)"}},{selector:"node[label]",style:{label:"data(label)","font-size":"2em",color:"white"}},{selector:"edge",style:{width:"5%","curve-style":this.isSquare()?"unbundled-bezier":"straight","target-arrow-shape":"triangle ","arrow-scale":2.5,"target-arrow-color":"#FF4444","line-fill":"linear-gradient","line-gradient-stop-colors":["#17a2b8","#FF4444"]}}];return r.a.createElement(ra.a,{cy:function(a){return e.handleCy(a)},elements:ra.a.normalizeElements(t),style:{width:"100vw",height:"100vh"},className:"flex-grow",stylesheet:n,userPanningEnabled:!1,layout:a})}},{key:"isSquare",value:function(){this.state.tableShape;return!1}},{key:"incrementCount",value:function(){var e=this.state.playerCount,a=O.a.set("syb-playerCount",e+1);this.regenerateOrder(a),this.setState({playerCount:a})}},{key:"decrementCount",value:function(){var e=this.state.playerCount,a=O.a.set("syb-playerCount",Math.max(e-1,1));this.regenerateOrder(a),this.setState({playerCount:a})}},{key:"setTableShape",value:function(e){var a=O.a.set("syb-tableShape",e);this.setState({tableShape:a})}},{key:"render",value:function(){var e=this,a=this.state,t=a.playerCount,n=(a.tableShape,a.loadingDirection);return r.a.createElement("div",{className:"syb"},r.a.createElement(la,null),r.a.createElement("div",{className:"my-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,t," Players"),r.a.createElement(W.a,null,r.a.createElement(j.a,{disabled:t<=1,onClick:function(){return e.decrementCount()}},r.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),r.a.createElement(j.a,{onClick:function(){return e.incrementCount()}},r.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"}))),!1)),r.a.createElement("div",{className:"text-center my-2"},r.a.createElement(j.a,{color:"danger",onClick:this.whichWay,block:!0,disabled:n},n?"Calculating...":"Which way are we screwing?")),r.a.createElement("div",{className:"d-flex"},n&&r.a.createElement("div",{className:"position-absolute w-75 text-center",style:{top:"50%"}},r.a.createElement(ta.a,{color:"danger",type:"grow",className:"position-absolute",style:{width:"10rem",height:"10rem"}})),this.renderCyto()))}}]),a}(n.Component),ua=t(171),da=function(){return r.a.createElement(d.a,{title:"Formats"},r.a.createElement("link",{rel:"shortcut icon",href:"mtg/icon/evg.ico"}),r.a.createElement("link",{rel:"apple-touch-icon",href:"mtg/icon/evg_180.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:"mtg/icon/evg_180.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"192x192",href:"mtg/icon/evg_192.png"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"512x512",href:"mtg/icon/evg_512.png"}),r.a.createElement("link",{rel:"manifest",href:"/formats-manifest.json"}))},ha=["Chode Mode","Deck Swaps","Planechase","EDH","2 Headed Giant","SYB","Range 1","Free for All","Pentacle","Secret Partners","Archenemy","Pentacle","Emperor"],ga=[{id:1,name:"Chode Mode",initial:.05,tags:["Chode Mode"]},{id:2,name:"Planechase",initial:.15,tags:["Planechase"]},{id:3,name:"Planechase EDH",initial:.1,tags:["Planechase","EDH"]},{id:4,name:"EDH Free for All",initial:.02,tags:["EDH","Free for All"]},{id:5,name:"EDH SYB",initial:.15,tags:["EDH","SYB"]},{id:6,name:"EDH SYB Deck Swaps",initial:.02,tags:["EDH","SYB","Deck Swaps"]},{id:7,name:"2 Headed Giant",initial:.2,tags:["2 Headed Giant"]},{id:8,name:"Archenemy",initial:.02,tags:["Archenemy"]},{id:9,name:"Range 1",initial:.1,tags:["Range 1"]},{id:10,name:"Free for All",initial:.02,tags:["Free for All"]},{id:11,name:"SYB",initial:.15,tags:["SYB"]},{id:12,name:"SYB Deck Swaps",initial:.02,tags:["SYB","Deck Swaps"]}],pa=[{id:1,name:"Chode Mode",initial:.05,tags:["Chode Mode"]},{id:2,name:"Planechase ",initial:.01,tags:["Planechase"]},{id:3,name:"Planechase EDH",initial:.05,tags:["Planechase","EDH"]},{id:4,name:"EDH Free for All",initial:.02,tags:["EDH","Free for All"]},{id:5,name:"EDH SYB",initial:.09,tags:["EDH","SYB"]},{id:6,name:"EDH SYB Deck Swaps",initial:.02,tags:["EDH","SYB","Deck Swaps"]},{id:7,name:"EDH Pentacle",initial:.09,tags:["EDH","Pentacle"]},{id:8,name:"EDH Pentacle Deck Swaps",initial:.02,tags:["EDH","Pentacle","Deck Swaps"]},{id:9,name:"Pentacle",initial:.02,tags:["Pentacle"]},{id:10,name:"Pentacle Deck Swaps",initial:.02,tags:["Pentacle","Deck Swaps"]},{id:11,name:"Range 1",initial:.01,tags:["Range 1"]},{id:12,name:"SYB",initial:.02,tags:["SYB"]},{id:13,name:"SYB Deck Swaps",initial:.02,tags:["SYB","Deck Swaps"]},{id:14,name:"Free for All",initial:.02,tags:["Free for All"]}],fa=[{id:1,name:"Chode Mode",initial:.15,tags:["Chode Mode"]},{id:2,name:"Planechase ",initial:.85,tags:["Planechase"]},{id:3,name:"Planechase EDH",initial:.15,tags:["Planechase","EDH"]},{id:4,name:"EDH Free for All",initial:.15,tags:["EDH","Free for All"]},{id:5,name:"EDH SYB",initial:.85,tags:["EDH","SYB"]},{id:6,name:"EDH SYB Deck Swaps",initial:.15,tags:["EDH","SYB","Deck Swaps"]},{id:7,name:"EDH Emperor",initial:.85,tags:["EDH","Emperor"]},{id:8,name:"EDH Emperor Deck Swaps",initial:.15,tags:["EDH","Emperor","Deck Swaps"]},{id:9,name:"2 Headed Giant SYB",initial:.1275,tags:["2 Headed Giant","SYB"]},{id:10,name:"2 Headed Giant Free for All",initial:.15,tags:["2 Headed Giant","Free for All"]},{id:11,name:"Emperor",initial:.1275,tags:["Emperor"]},{id:12,name:"Emperor Deck Swaps",initial:.15,tags:["Emperor","Deck Swaps"]},{id:13,name:"Range 1",initial:.85,tags:["Range 1"]},{id:14,name:"Free for All",initial:.15,tags:["Free for All"]},{id:15,name:"SYB",initial:.1275,tags:["SYB"]},{id:16,name:"SYB Deck Swaps",initial:.15,tags:["SYB","Deck Swaps"]},{id:17,name:"Secret Partners Deck Swaps",initial:.15,tags:["Secret Partners","Deck Swaps"]},{id:18,name:"Secret Partners",initial:.1275,tags:["Secret Partners"]}],ya=t(167),Ea=t.n(ya),ka=t(168),va=t.n(ka),ba=(t(319),t(320),t(108)),Ca=t(75),Sa=ba.a.Handle,Da=function(e){var a=e.value,t=e.dragging,n=e.index,c=Object(ua.a)(e,["value","dragging","index"]);return r.a.createElement(Ca.a,{prefixCls:"rc-slider-tooltip",overlay:a,visible:t,placement:"top",key:n},r.a.createElement(Sa,Object.assign({value:a},c)))},Na=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={playerCount:4,tags:null,currentFormats:null,activeFormat:null,loadingFormat:!1},t.componentDidMount=function(){var e=O.a.get("formats-playerCount")||O.a.set("formats-playerCount",4),a=O.a.get("formats-tags")||O.a.set("formats-tags",t.createTags()),n=O.a.get("formats-current")||O.a.set("formats-current",t.createFormats());t.setState({playerCount:e,tags:a,currentFormats:n})},t.reset=function(){var e=O.a.set("formats-playerCount",4),a=O.a.set("formats-tags",t.createTags()),n=O.a.set("formats-current",t.createFormats());t.setState({playerCount:e,tags:a,currentFormats:n})},t.rand=function(e,a){return Math.random()*(a-e)+e},t.getRandomFormat=function(e){var a=e.reduce(function(e,a){return e+a.weight},0),n=t.rand(0,a),r=0;return e.find(function(e){return r+=e.weight,n<=r})},t.updateFormatValue=function(e,a){var n=t.state,r=n.playerCount,c=n.currentFormats;c[r].forEach(function(t){t.name===e.name&&(e.weight=a/100)});var s=O.a.set("formats-current",c);t.setState({currentFormats:s})},t.toggleTag=function(e){var a=t.state.tags;a.forEach(function(a){a.name===e.name&&(a.enabled=!a.enabled)});var n=O.a.set("formats-tags",a);t.setState({tags:n})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"pickFormat",value:function(){var e=this;console.log("Generate Format"),this.setState({loadingFormat:!0});var a=this.activeFormats(),t=this.getRandomFormat(a);console.log("picked item",t),setTimeout(function(){e.setState({loadingFormat:!1,activeFormat:t})},1e3)}},{key:"incrementCount",value:function(){var e=this.state.playerCount,a=O.a.set("formats-playerCount",Math.min(e+1,6));this.setState({playerCount:a,activeFormat:null})}},{key:"decrementCount",value:function(){var e=this.state.playerCount,a=O.a.set("formats-playerCount",Math.max(e-1,4));this.setState({playerCount:a,activeFormat:null})}},{key:"render",value:function(){var e=this,a=this.state,t=a.playerCount,n=a.activeFormat,c=a.loadingFormat;return r.a.createElement("div",{className:"formats"},r.a.createElement(da,null),r.a.createElement("div",{className:"my-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,t," Players"),r.a.createElement(W.a,{className:"my-4"},r.a.createElement(j.a,{disabled:t<=1,onClick:function(){return e.decrementCount()}},r.a.createElement("i",{className:"ms ms-loyalty-down ms-loyalty-1 ms-2x"})),r.a.createElement(j.a,{onClick:function(){return e.incrementCount()}},r.a.createElement("i",{className:"ms ms-loyalty-up ms-loyalty-1 ms-2x"}))),r.a.createElement("div",{className:"text-center mb-5"},r.a.createElement(j.a,{block:!0,color:"danger",onClick:function(){return e.pickFormat()},disabled:c},c?"Computing...":"Which Format?"),c?r.a.createElement(ta.a,{size:"lg",color:"primary",className:"mt-3 mb-2"},"Loading..."):r.a.createElement("h1",{className:"my-2"},n&&n.name||"None")))),r.a.createElement("hr",{className:"text-light"}),r.a.createElement("div",{className:"mb-5"},this.renderFormatToggles()),r.a.createElement("div",{className:"mb-5"},this.renderActiveFormats()),r.a.createElement("div",{className:"my-3"},r.a.createElement(j.a,{color:"danger",onClick:this.reset,block:!0},"Reset")))}},{key:"createFormats",value:function(){var e={4:ga,5:pa,6:fa};return e[4].forEach(function(e){return e.weight=e.initial}),e[5].forEach(function(e){return e.weight=e.initial}),e[6].forEach(function(e){return e.weight=e.initial}),e}},{key:"activeTags",value:function(){var e=this.state,a=e.currentFormats,t=e.playerCount;return va()(Ea()(a[t],function(e){return e.tags})).sort()}},{key:"createTags",value:function(){return ha.map(function(e){return{name:e,enabled:!0}})}},{key:"renderFormatToggles",value:function(){var e=this,a=this.state.tags;if(a){var t=this.activeTags(),n=a.filter(function(e){return t.includes(e.name)}).map(function(a,t){return r.a.createElement("div",{className:"col-6 col-md-4 col-lg-3 mb-1",key:t},r.a.createElement(j.a,{size:"sm",block:!0,onClick:function(){e.toggleTag(a)},color:a.enabled?"info":"secondary"},r.a.createElement("div",{className:"float-left"},a.enabled?r.a.createElement("i",{className:"ms ms-dfc ms-dfc-day text-light"}):r.a.createElement("i",{className:"ms ms-dfc ms-dfc-night text-dark"})),r.a.createElement("div",{className:"d-inline"},a.name)))});return r.a.createElement("div",{className:"row"},n)}}},{key:"activeFormats",value:function(){var e=this.state,a=e.tags,t=e.currentFormats,n=e.playerCount,r=null;if(console.log(" Player",n),console.log("format",t),a&&t&&n){r=t[n];var c=a.filter(function(e){return e.enabled}).map(function(e){return e.name});console.log("enabledTags",c),r=r.filter(function(e){return e.tags.every(function(e){return c.includes(e)})}),console.log("Formats",r)}return r}},{key:"renderActiveFormats",value:function(){var e=this,a=this.state.playerCount,t=this.activeFormats();if(t)return t.map(function(t,n){return r.a.createElement("div",{className:"row mb-2",key:"".concat(a,"-").concat(n)},r.a.createElement("div",{className:"col-5"},t.name),r.a.createElement("div",{className:"col-7"},r.a.createElement(ba.a,{min:0,max:100,marks:{25:"25",50:"50",75:"75"},defaultValue:100*t.weight,included:!0,handle:Da,onAfterChange:function(a){e.updateFormatValue(t,a)}})))})}}]),a}(n.Component),xa=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(c)))).state={isOpen:!1,disclaimerDismissed:!1,displayText:!1,displayImages:!1,devTools:!1,displayGatherer:!1},t.toggle=function(){t.setState({isOpen:!t.state.isOpen})},t.componentDidMount=function(){t.setState({disclaimerDismissed:F("disclaimerDismissed"),displayText:F("displayText"),displayImages:F("displayImages"),devTools:F("devTools")})},t.dismissDisclaimer=function(){t.setState({disclaimerDismissed:T("disclaimerDismissed",!0)})},t._toggleSetting=function(e){var a={};a[e]=A(e),t.setState(a)},t._mtgToggler=function(e,a,t){return r.a.createElement(p.a,{toggle:!1,onClick:t},r.a.createElement("span",null,e?r.a.createElement("i",{className:"ms ms-dfc ms-dfc-day"}):r.a.createElement("i",{className:"ms ms-dfc ms-dfc-night"})),r.a.createElement("span",{className:"ml-3"},a))},t.closeNavbar=function(){t.state.isOpen&&t.setState({isOpen:!1})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.disclaimerDismissed,n=a.displayText,c=a.displayImages,s=a.displayGatherer,l=a.devTools;return r.a.createElement(h.a,null,r.a.createElement(d.b,null,r.a.createElement(d.a,{titleTemplate:"%s - Jibbermaster"}),r.a.createElement(f.a,{color:"dark",dark:!0,expand:"md",className:"text-right p-1 noselect"},r.a.createElement(y.a,null),r.a.createElement(E.a,{onClick:this.toggle}),r.a.createElement(k.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(v.a,{className:"ml-auto",navbar:!0},r.a.createElement(b.a,null,r.a.createElement(C.a,{tag:h.b,exact:!0,to:"/",activeClassName:"active",onClick:this.closeNavbar},"Home")),r.a.createElement(b.a,null,r.a.createElement(C.a,{tag:h.b,exact:!0,to:"/planechase",activeClassName:"active",onClick:this.closeNavbar},"Planechase")),r.a.createElement(b.a,null,r.a.createElement(C.a,{tag:h.b,exact:!0,to:"/archenemy",activeClassName:"active",onClick:this.closeNavbar},"Archenemy")),r.a.createElement(b.a,null,r.a.createElement(C.a,{tag:h.b,exact:!0,to:"/syb",activeClassName:"active",onClick:this.closeNavbar},"SYB")),r.a.createElement(b.a,null,r.a.createElement(C.a,{tag:h.b,exact:!0,to:"/formats",activeClassName:"active",onClick:this.closeNavbar},"Formats")),r.a.createElement(S.a,{nav:!0,inNavbar:!0},r.a.createElement(D.a,{nav:!0,caret:!0},"Settings"),r.a.createElement(N.a,{right:!0},this._mtgToggler(t,"Disclaimer Dismissed",function(){return e._toggleSetting("disclaimerDismissed")}),this._mtgToggler(n,"Display Text",function(){return e._toggleSetting("displayText")}),this._mtgToggler(c,"Display Images",function(){return e._toggleSetting("displayImages")}),this._mtgToggler(s,"Display Gatherer",function(){return e._toggleSetting("displayGatherer")}),this._mtgToggler(l,"Dev Tools",function(){return e._toggleSetting("devTools")}),r.a.createElement(p.a,{divider:!0}),r.a.createElement(p.a,{toggle:!1,onClick:function(){return O.a.clearAll()}},"Clear Everything")))))),r.a.createElement("div",{className:"app text-light bg-dark col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-6 offset-xl-3"},r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(H,e)}}),r.a.createElement(g.a,{path:"/archenemy",exact:!0,render:function(e){return r.a.createElement(aa,e)}}),r.a.createElement(g.a,{path:"/planechase",exact:!0,render:function(e){return r.a.createElement(Je,e)}}),r.a.createElement(g.a,{path:"/syb",exact:!0,render:function(e){return r.a.createElement(ma,e)}}),r.a.createElement(g.a,{path:"/formats",exact:!0,render:function(e){return r.a.createElement(Na,e)}})),r.a.createElement(x.a,{color:"warning",className:"fixed-bottom mb-0 py-1",isOpen:!this.state.disclaimerDismissed,toggle:this.dismissDisclaimer},r.a.createElement("h6",null,"Disclaimer"),r.a.createElement("small",{className:"text-muted m-0"},"This site is created for personal use. Magic: The Gathering, the mana symbols, the tap symbol and all other related images are owned by Wizards of the Coast. jibbermaster.com is unaffiliated with Wizards of the Coast.")))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(xa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[172,1,2]]]);
//# sourceMappingURL=main.f8cb4022.chunk.js.map